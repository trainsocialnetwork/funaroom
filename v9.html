<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FUNãƒ»Aãƒ»ROOM - å¥åº·ãƒã‚§ãƒƒã‚¯ã‹ã‚‰ã¯ã˜ã¾ã‚‹ã€åœ°åŸŸã®ã¤ãªãŒã‚Š</title>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary-color: #4A90E2;
            --secondary-color: #7FD3F0;
            --tertiary-color: #5CA0F2;
            --success-color: #10B981;
            --warning-color: #F59E0B;
            --danger-color: #EF4444;
            --gray-color: #95989B;
            --background: #F5F7FA;
            --white: #FFFFFF;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --text-muted: #9CA3AF;
            --border-color: #E5E7EB;
            --card-shadow: 0 2px 12px rgba(0,0,0,0.08);
            --button-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--background);
            color: var(--text-dark);
            line-height: 1.6;
            font-size: 18px;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Mobile container */
        .app-container {
            max-width: 430px;
            margin: 0 auto;
            min-height: 100vh;
            background: var(--white);
            position: relative;
            overflow-x: hidden;
        }

        /* Navigation Bar */
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 430px;
            background: var(--white);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 8px;
            color: var(--text-light);
            cursor: pointer;
            font-size: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: color 0.3s;
            background: none;
            border: none;
            outline: none;
        }

        .nav-item i {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        /* Page sections */
        .page {
            display: none;
            padding-bottom: 80px;
            min-height: 100vh;
            animation: fadeIn 0.3s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 40px 20px 30px;
            text-align: center;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 4px 20px rgba(74, 144, 226, 0.3);
            position: relative;
            overflow: hidden;
        }

        .header-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.2;
            z-index: 0;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header-small {
            padding: 30px 20px 20px;
        }

        .header-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        .header-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        /* Content container */
        .content {
            padding: 20px;
        }

        /* Card styles */
        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 16px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:active {
            transform: scale(0.98);
        }

        .clickable-card {
            cursor: pointer;
        }

        .clickable-card:hover {
            box-shadow: 0 4px 20px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }

        /* Button styles */
        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 56px;
            box-shadow: var(--button-shadow);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--tertiary-color));
            color: var(--white);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }

        .btn-disabled {
            background: var(--gray-color);
            color: var(--white);
            cursor: not-allowed;
            opacity: 0.7;
        }

        .btn-secondary {
            background: var(--white);
            color: var(--text-dark);
            border: 2px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--background);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color), #059669);
            color: var(--white);
        }

        .btn-google {
            background: var(--white);
            color: var(--text-dark);
            border: 2px solid var(--border-color);
        }

        .btn-apple {
            background: #000000;
            color: var(--white);
        }

        /* Form styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 16px;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 18px;
            transition: border-color 0.3s;
            background: var(--white);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        /* Activity card */
        .activity-card {
            display: flex;
            align-items: center;
            padding: 20px;
            background: var(--white);
            border-radius: 16px;
            margin-bottom: 16px;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--border-color);
        }

        .activity-card:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.12);
        }

        .activity-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 28px;
            color: var(--white);
        }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .activity-detail {
            font-size: 14px;
            color: var(--text-light);
        }

        .activity-arrow {
            color: var(--text-muted);
            font-size: 20px;
        }

        /* Badge styles */
        .badge {
            display: inline-block;
            padding: 6px 12px;
            background: var(--background);
            color: var(--text-dark);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .badge-primary {
            background: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
        }

        .badge-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .badge-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
        }

        /* Health check styles */
        .health-option {
            padding: 20px;
            border: 2px solid var(--border-color);
            border-radius: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 18px;
            text-align: center;
            background: var(--white);
        }

        .health-option:hover {
            border-color: var(--primary-color);
            background: rgba(74, 144, 226, 0.05);
        }

        .health-option.selected {
            border-color: var(--primary-color);
            background: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            margin-bottom: 24px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--tertiary-color));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Question counter */
        .question-counter {
            text-align: center;
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 8px;
        }

        .question-text {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 32px;
            line-height: 1.4;
        }

        /* Community card with image */
        .community-card {
            background: linear-gradient(135deg, #F3F4F6, #FFFFFF);
            border-radius: 20px;
            padding: 0;
            margin-bottom: 16px;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .community-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(0,0,0,0.12);
        }

        .community-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .community-content {
            padding: 20px;
        }

        .community-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .community-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .community-category {
            display: inline-block;
            padding: 6px 12px;
            background: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
        }

        .community-details {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-top: 12px;
            font-size: 14px;
            color: var(--text-light);
        }

        .community-detail {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .community-detail i {
            color: var(--primary-color);
            font-size: 16px;
        }

        /* Diagnosis styles */
        .diagnosis-header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            border-radius: 20px;
            margin-bottom: 24px;
        }

        .diagnosis-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .diagnosis-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        /* Result card */
        .result-card {
            background: linear-gradient(135deg, #F0FDF4, #DCFCE7);
            border-radius: 20px;
            padding: 32px;
            text-align: center;
            margin-bottom: 24px;
            border: 2px solid #86EFAC;
        }

        .result-card.warning {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border-color: #FCD34D;
        }

        .result-card.danger {
            background: linear-gradient(135deg, #FEE2E2, #FECACA);
            border-color: #FCA5A5;
        }

        .result-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 40px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .result-icon.good {
            color: var(--success-color);
        }

        .result-icon.warning {
            color: var(--warning-color);
        }

        .result-icon.danger {
            color: var(--danger-color);
        }

        .result-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .result-description {
            font-size: 16px;
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Exercise card */
        .exercise-card {
            background: var(--white);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 16px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s;
        }

        .exercise-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(0,0,0,0.12);
        }

        .exercise-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 40px;
            color: var(--white);
        }

        .exercise-title {
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .exercise-description {
            text-align: center;
            font-size: 14px;
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Finished screen */
        .finished-container {
            text-align: center;
            padding: 40px 20px;
        }

        .finished-icon {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success-color), #059669);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            font-size: 60px;
            color: var(--white);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
        }

        .finished-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        .finished-message {
            font-size: 16px;
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 32px;
        }

        /* Time restriction notice */
        .time-restriction {
            background: var(--gray-color);
            color: var(--white);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 16px;
        }

        /* Animation classes */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .slide-up {
            animation: slideUp 0.4s ease;
        }

        /* Loading spinner */
        .spinner {
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 430px) {
            .app-container {
                max-width: 100%;
            }
            
            .nav-bar {
                max-width: 100%;
            }
        }

        /* Touch feedback */
        .touchable {
            -webkit-tap-highlight-color: rgba(74, 144, 226, 0.1);
            touch-action: manipulation;
        }

        /* Manager section styles */
        .manager-card {
            background: linear-gradient(135deg, #EDE9FE, #DDD6FE);
            border: 2px solid #A78BFA;
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 16px;
            text-align: center;
        }

        .manager-icon {
            font-size: 48px;
            color: #7C3AED;
            margin-bottom: 16px;
        }

        .manager-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .manager-description {
            font-size: 14px;
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Map styles */
        .map-container {
            width: 100%;
            height: 400px;
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: var(--card-shadow);
        }

        .map-container-small {
            width: 100%;
            height: 200px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 16px;
            box-shadow: var(--card-shadow);
        }

        .location-picker {
            width: 100%;
            height: 300px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 12px;
            border: 2px solid var(--border-color);
        }

        .sort-buttons {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .sort-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            background: var(--white);
            color: var(--text-dark);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .sort-btn:hover {
            background: var(--background);
        }

        .sort-btn.active {
            border-color: var(--primary-color);
            background: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
        }

        .distance-badge {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
            border-radius: 12px;
            font-size: 13px;
            font-weight: 500;
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Login Page -->
        <div id="page-login" class="page active">
            <div class="header">
                <img src="https://static.wixstatic.com/media/07cdbc_82a0984731614afdb20bb2b581c55d5d~mv2_d_3000_2000_s_2.jpg" 
                     alt="FUNãƒ»Aãƒ»ROOM" class="header-image">
                <div class="header-content">
                    <h1 class="header-title">FUNãƒ»Aãƒ»ROOM</h1>
                    <p class="header-subtitle">å¥åº·ãƒã‚§ãƒƒã‚¯ã‹ã‚‰ã¯ã˜ã¾ã‚‹ã€åœ°åŸŸã®ã¤ãªãŒã‚Š</p>
                </div>
            </div>
            
            <div class="content">
                <div class="card">
                    <h2 style="text-align: center; margin-bottom: 32px; font-size: 24px;">ãƒ­ã‚°ã‚¤ãƒ³</h2>
                    
                    <form id="login-form">
                        <div class="form-group">
                            <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <input type="email" class="form-input" placeholder="example@email.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                            <input type="password" class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-sign-in-alt"></i>
                            ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹
                        </button>
                    </form>
                    
                    <div style="text-align: center; margin: 24px 0;">
                        <span style="color: var(--text-light); font-size: 14px;">ã¾ãŸã¯</span>
                    </div>
                    
                    <button class="btn btn-google" onclick="loginWithGoogle()">
                        <i class="fab fa-google"></i>
                        Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
                    </button>
                    
                    <button class="btn btn-apple" onclick="loginWithApple()">
                        <i class="fab fa-apple"></i>
                        Appleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
                    </button>
                    
                    <div style="text-align: center; margin-top: 24px;">
                        <a href="#" onclick="showPage('signup')" style="color: var(--primary-color); text-decoration: none;">
                            æ–°è¦ç™»éŒ²ã¯ã“ã¡ã‚‰
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sign Up Page -->
        <div id="page-signup" class="page">
            <div class="header header-small">
                <h1 class="header-title">æ–°è¦ç™»éŒ²</h1>
                <p class="header-subtitle">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ</p>
            </div>
            
            <div class="content">
                <div class="card">
                    <form id="signup-form">
                        <div class="form-group">
                            <label class="form-label">ãŠåå‰</label>
                            <input type="text" class="form-input" placeholder="å±±ç”° å¤ªéƒ" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <input type="email" class="form-input" placeholder="example@email.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                            <input type="password" class="form-input" placeholder="8æ–‡å­—ä»¥ä¸Š" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰</label>
                            <input type="password" class="form-input" placeholder="ã‚‚ã†ä¸€åº¦å…¥åŠ›" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-user-plus"></i>
                            ç™»éŒ²ã™ã‚‹
                        </button>
                    </form>
                    
                    <div style="text-align: center; margin-top: 24px;">
                        <a href="#" onclick="showPage('login')" style="color: var(--primary-color); text-decoration: none;">
                            ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã®æ–¹
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Home Page -->
        <div id="page-home" class="page">
            <div class="header">
                <img src="https://stat.ameba.jp/user_images/20140720/09/funaroom/8e/09/j/o0800045013008387592.jpg" 
                     alt="FUNãƒ»Aãƒ»ROOM" class="header-image">
                <div class="header-content">
                    <h1 class="header-title">ã“ã‚“ã«ã¡ã¯ï¼</h1>
                    <p class="header-subtitle">ä»Šæ—¥ã‚‚å…ƒæ°—ã«éã”ã—ã¾ã—ã‚‡ã†</p>
                </div>
            </div>
            
            <div class="content">
                <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 16px;">ä»Šæ—¥ã®ã‚¿ã‚¹ã‚¯</h2>
                
                <div class="activity-card" onclick="checkTimeAndShowHealthCheck()">
                    <div class="activity-icon" style="background: linear-gradient(135deg, #4A90E2, #5CA0F2);">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <div class="activity-info">
                        <div class="activity-title">å¥åº·ãƒã‚§ãƒƒã‚¯</div>
                        <div class="activity-detail">ä»Šæ—¥ã®ä½“èª¿ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†</div>
                    </div>
                    <div class="activity-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <div id="health-time-notice" class="time-restriction" style="display: none;">
                    <i class="fas fa-clock"></i>
                    â€»18:00ä»¥é™ã‹ã‚‰è¨˜éŒ²ã§ãã¾ã™
                </div>
                
                <div class="activity-card" onclick="showPage('activitylist')">
                    <div class="activity-icon" style="background: linear-gradient(135deg, #10B981, #059669);">
                        <i class="fas fa-running"></i>
                    </div>
                    <div class="activity-info">
                        <div class="activity-title">ã‹ã‚“ãŸã‚“é‹å‹•</div>
                        <div class="activity-detail">ä½“ã‚’å‹•ã‹ã—ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥</div>
                    </div>
                    <div class="activity-arrow">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <h2 style="font-size: 20px; font-weight: 600; margin: 32px 0 16px;">ã‚ãªãŸã«ãŠã™ã™ã‚ã®éƒ¨æ´»</h2>
                
                <div class="community-card" onclick="showPage('communitydetail')">
                    <img src="https://static.wixstatic.com/media/07cdbc_ffa8f4d3caa343ad96d08d1e33a3d943~mv2.jpg" 
                         alt="æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨" class="community-image">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</div>
                                <div class="community-category">é‹å‹•ç³»</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>12å</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-clock"></i>
                                <span>ç«ãƒ»æœ¨ 7:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-secondary" onclick="showPage('communitylist')">
                    <i class="fas fa-search"></i>
                    ã‚‚ã£ã¨éƒ¨æ´»ã‚’æ¢ã™
                </button>
                
                <div style="margin-top: 32px; padding: 20px; background: linear-gradient(135deg, #EDE9FE, #DDD6FE); border-radius: 16px;">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px; color: #7C3AED;">
                        <i class="fas fa-magic"></i> ã¾ã éƒ¨æ´»ãŒæ±ºã¾ã£ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ
                    </h3>
                    <p style="font-size: 14px; color: var(--text-light); margin-bottom: 16px;">
                        8ã¤ã®è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®éƒ¨æ´»å‹•ã‚’è¨ºæ–­ã—ã¾ã™
                    </p>
                    <button class="btn btn-primary" onclick="showPage('diagnosis1')" style="background: linear-gradient(135deg, #7C3AED, #6D28D9);">
                        <i class="fas fa-clipboard-check"></i>
                        ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­ã‚’å§‹ã‚ã‚‹
                    </button>
                </div>
                
                <div style="margin-top: 24px; padding: 16px; background: linear-gradient(135deg, #FEF3C7, #FDE68A); border-radius: 16px; border: 1px solid #FCD34D;">
                    <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #92400E;">
                        <i class="fas fa-crown"></i> ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒªãƒ¼ãƒ€ãƒ¼ã®æ–¹ã¸
                    </h3>
                    <p style="font-size: 14px; color: #78350F; margin-bottom: 12px;">
                        éƒ¨æ´»å‹•ã®ç®¡ç†ãƒ»é‹å–¶ãƒ„ãƒ¼ãƒ«ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™
                    </p>
                    <button class="btn btn-secondary" onclick="showPage('communitymanager')" style="padding: 12px;">
                        <i class="fas fa-user-cog"></i>
                        ç®¡ç†ç”»é¢ã¸
                    </button>
                </div>
            </div>
        </div>

        <!-- Health Check Page -->
        <div id="page-healthcheck" class="page">
            <div class="header header-small">
                <h1 class="header-title">å¥åº·ãƒã‚§ãƒƒã‚¯</h1>
                <p class="header-subtitle">ä»Šæ—¥ã®ä½“èª¿ã‚’è¨˜éŒ²</p>
            </div>
            
            <div class="content">
                <div class="card">
                    <h3 style="text-align: center; font-size: 20px; margin-bottom: 16px;">
                        <i class="fas fa-clipboard-check" style="color: var(--primary-color);"></i>
                        ä»Šæ—¥ã®å•è¨º
                    </h3>
                    <p style="text-align: center; color: var(--text-light); margin-bottom: 24px;">
                        ç°¡å˜3ã¤ã®è³ªå•<br>
                        ä½“èª¿ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†
                    </p>
                    
                    <button class="btn btn-primary" onclick="showPage('daily1')">
                        å•è¨ºã‚’å§‹ã‚ã‚‹
                    </button>
                </div>
            </div>
        </div>

        <!-- Daily Answer 1 -->
        <div id="page-daily1" class="page">
            <div class="header header-small">
                <h1 class="header-title">æ¯æ—¥ã®å•è¨º</h1>
                <p class="header-subtitle">è³ªå• 1 / 3</p>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 33.33%;"></div>
                    </div>
                    
                    <div class="question-text">
                        ä»Šæ—¥ã®ä½“èª¿ã¯<br>ã„ã‹ãŒã§ã™ã‹ï¼Ÿ
                    </div>
                    
                    <div id="daily1-options">
                        <div class="health-option" onclick="selectDailyOption(this, 'ã¨ã¦ã‚‚è‰¯ã„')">
                            ğŸ˜Š ã¨ã¦ã‚‚è‰¯ã„
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, 'è‰¯ã„')">
                            ğŸ™‚ è‰¯ã„
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, 'æ™®é€š')">
                            ğŸ˜ æ™®é€š
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, 'æ‚ªã„')">
                            ğŸ˜” æ‚ªã„
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showPage('daily2')" style="margin-top: 24px;">
                        æ¬¡ã¸
                    </button>
                </div>
            </div>
        </div>

        <!-- Daily Answer 2 -->
        <div id="page-daily2" class="page">
            <div class="header header-small">
                <h1 class="header-title">æ¯æ—¥ã®å•è¨º</h1>
                <p class="header-subtitle">è³ªå• 2 / 3</p>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 66.66%;"></div>
                    </div>
                    
                    <div class="question-text">
                        æ˜¨å¤œã¯ã‚ˆã<br>çœ ã‚Œã¾ã—ãŸã‹ï¼Ÿ
                    </div>
                    
                    <div id="daily2-options">
                        <div class="health-option" onclick="selectDailyOption(this, 'ã‚ˆãçœ ã‚ŒãŸ')">
                            ã‚ˆãçœ ã‚ŒãŸ
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, 'ã¾ã‚ã¾ã‚çœ ã‚ŒãŸ')">
                            ã¾ã‚ã¾ã‚çœ ã‚ŒãŸ
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, 'ã‚ã¾ã‚Šçœ ã‚Œãªã‹ã£ãŸ')">
                            ã‚ã¾ã‚Šçœ ã‚Œãªã‹ã£ãŸ
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, 'å…¨ãçœ ã‚Œãªã‹ã£ãŸ')">
                            å…¨ãçœ ã‚Œãªã‹ã£ãŸ
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showPage('daily3')" style="margin-top: 24px;">
                        æ¬¡ã¸
                    </button>
                </div>
            </div>
        </div>

        <!-- Daily Answer 3 -->
        <div id="page-daily3" class="page">
            <div class="header header-small">
                <h1 class="header-title">æ¯æ—¥ã®å•è¨º</h1>
                <p class="header-subtitle">è³ªå• 3 / 3</p>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 100%;"></div>
                    </div>
                    
                    <div class="question-text">
                        ä»Šæ—¥ã®æ­©æ•°ã¯<br>ã©ã®ãã‚‰ã„ã§ã—ãŸã‹ï¼Ÿ
                    </div>
                    
                    <div id="daily3-options">
                        <div class="health-option" onclick="selectDailyOption(this, '5000æ­©ä»¥ä¸Š')">
                            5000æ­©ä»¥ä¸Š
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, '3000ã€œ5000æ­©')">
                            3000ã€œ5000æ­©
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, '1000ã€œ3000æ­©')">
                            1000ã€œ3000æ­©
                        </div>
                        <div class="health-option" onclick="selectDailyOption(this, '1000æ­©æœªæº€')">
                            1000æ­©æœªæº€
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showPage('finishedinterview')" style="margin-top: 24px;">
                        å®Œäº†
                    </button>
                </div>
            </div>
        </div>

        <!-- Finished Interview -->
        <div id="page-finishedinterview" class="page">
            <div class="finished-container">
                <div class="finished-icon pulse">
                    <i class="fas fa-check"></i>
                </div>
                <h2 class="finished-title">ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</h2>
                <p class="finished-message">
                    ä»Šæ—¥ã®å¥åº·ãƒã‚§ãƒƒã‚¯ãŒå®Œäº†ã—ã¾ã—ãŸã€‚<br>
                    æ¯æ—¥ã®è¨˜éŒ²ãŒå¥åº·ç®¡ç†ã®ç¬¬ä¸€æ­©ã§ã™ã€‚<br>
                    æ˜æ—¥ã‚‚ã¾ãŸè¨˜éŒ²ã—ã¾ã—ã‚‡ã†ï¼
                </p>
                
                <button class="btn btn-primary" onclick="showPage('home')">
                    <i class="fas fa-home"></i>
                    ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
                </button>
            </div>
        </div>

        <!-- Community List Page -->
        <div id="page-communitylist" class="page">
            <div class="header header-small">
                <h1 class="header-title">éƒ¨æ´»å‹•ã‚’æ¢ã™</h1>
                <p class="header-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã‚ˆã†</p>
            </div>
            
            <div class="content">
                <div style="margin-bottom: 20px; padding: 16px; background: linear-gradient(135deg, #F0F9FF, #E0F2FE); border-radius: 12px;">
                    <p style="font-size: 14px; color: var(--text-dark); margin-bottom: 8px;">
                        <i class="fas fa-lightbulb" style="color: #3B82F6;"></i>
                        ã©ã®éƒ¨æ´»ãŒè‡ªåˆ†ã«åˆã†ã‹è¿·ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ
                    </p>
                    <button class="btn btn-primary" onclick="showPage('diagnosis1')" style="padding: 12px; font-size: 16px;">
                        <i class="fas fa-magic"></i>
                        è¨ºæ–­ã§æœ€é©ãªéƒ¨æ´»ã‚’è¦‹ã¤ã‘ã‚‹
                    </button>
                </div>
                
                <div style="display: flex; gap: 8px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 8px;">
                    <span class="badge badge-primary">ã™ã¹ã¦</span>
                    <span class="badge">é‹å‹•ç³»</span>
                    <span class="badge">æ–‡åŒ–ç³»</span>
                    <span class="badge">äº¤æµç³»</span>
                    <span class="badge">å­¦ç¿’ç³»</span>
                </div>
                
                <div class="community-card" onclick="showPage('communitydetail')">
                    <img src="https://static.wixstatic.com/media/07cdbc_ffa8f4d3caa343ad96d08d1e33a3d943~mv2.jpg" 
                         alt="æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨" class="community-image">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</div>
                                <div class="community-category">é‹å‹•ç³»</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>12å</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-clock"></i>
                                <span>ç«ãƒ»æœ¨ 7:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">ã‚†ã£ãŸã‚Šãƒ¨ã‚¬æ•™å®¤</div>
                                <div class="community-category">é‹å‹•ç³»</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ç·åˆä½“è‚²é¤¨</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>8å</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-clock"></i>
                                <span>æœˆãƒ»é‡‘ 10:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">çµµæ‰‹ç´™ã‚µãƒ¼ã‚¯ãƒ«</div>
                                <div class="community-category">æ–‡åŒ–ç³»</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚å…¬æ°‘é¤¨</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>15å</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-clock"></i>
                                <span>æ°´ 14:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 32px; padding: 16px; background: #F9FAFB; border-radius: 12px; border: 1px solid var(--border-color); text-align: center;">
                    <p style="font-size: 14px; color: var(--text-dark); font-weight: 600; margin-bottom: 8px;">
                        <i class="fas fa-star"></i> ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’é‹å–¶ã•ã‚Œã¦ã„ã‚‹æ–¹ã¸
                    </p>
                    <p style="font-size: 12px; color: var(--text-light); margin-bottom: 12px;">
                        ãƒªãƒ¼ãƒ€ãƒ¼å°‚ç”¨ã®ç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’ã”ç”¨æ„ã—ã¦ã„ã¾ã™
                    </p>
                    <button class="btn btn-secondary" onclick="showPage('communitymanager')" style="padding: 10px; font-size: 14px;">
                        <i class="fas fa-user-cog"></i>
                        ç®¡ç†ç”»é¢ã‚’è¦‹ã‚‹
                    </button>
                </div>
            </div>
        </div>

        <!-- Community Detail Page -->
        <div id="page-communitydetail" class="page">
            <div class="header header-small">
                <h1 class="header-title">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</h1>
                <p class="header-subtitle">é‹å‹•ç³»ãƒ»ã‚„ã•ã—ã„ãƒ¬ãƒ™ãƒ«</p>
            </div>
            
            <div class="content">
                <img src="https://static.wixstatic.com/media/07cdbc_82a0984731614afdb20bb2b581c55d5d~mv2_d_3000_2000_s_2.jpg" 
                     alt="æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°" 
                     style="width: 100%; height: 200px; object-fit: cover; border-radius: 16px; margin-bottom: 20px;">
                
                <div class="card">
                    <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 16px;">æ´»å‹•å†…å®¹</h3>
                    <p style="line-height: 1.8; color: var(--text-light);">
                        æœã®çˆ½ã‚„ã‹ãªç©ºæ°—ã®ä¸­ã€å…¬åœ’ã‚’ç´„1æ™‚é–“ã‚†ã£ãã‚Šæ­©ãã¾ã™ã€‚
                        ç„¡ç†ã®ãªã„ãƒšãƒ¼ã‚¹ã§ã€ãŠã—ã‚ƒã¹ã‚Šã—ãªãŒã‚‰æ¥½ã—ãæ­©ãã¾ã—ã‚‡ã†ã€‚
                        åˆå¿ƒè€…ã®æ–¹ã‚‚å¤§æ­“è¿ã§ã™ã€‚é‹å‹•ä¸è¶³ã®è§£æ¶ˆã‚„ã€æœã®ç¿’æ…£ã¥ãã‚Šã«æœ€é©ã§ã™ã€‚
                    </p>
                </div>
                
                <div class="card">
                    <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 16px;">è©³ç´°æƒ…å ±</h3>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-map-marker-alt" style="color: var(--primary-color); width: 20px;"></i>
                            <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-clock" style="color: var(--primary-color); width: 20px;"></i>
                            <span>æ¯é€±ç«ãƒ»æœ¨æ›œæ—¥ æœ7:00ã€œ8:00</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-users" style="color: var(--primary-color); width: 20px;"></i>
                            <span>ç¾åœ¨12åãŒå‚åŠ ä¸­</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-yen-sign" style="color: var(--primary-color); width: 20px;"></i>
                            <span>å‚åŠ è²»ï¼šç„¡æ–™</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 16px;">ãƒªãƒ¼ãƒ€ãƒ¼ã‹ã‚‰ä¸€è¨€</h3>
                    <p style="line-height: 1.8; color: var(--text-light);">
                        ã¿ã‚“ãªã§æ¥½ã—ãæ­©ãã¾ã—ã‚‡ã†ï¼ç„¡ç†ã›ãšã€ãã‚Œãã‚Œã®ãƒšãƒ¼ã‚¹ã§å¤§ä¸ˆå¤«ã§ã™ã€‚
                        æ­©ã„ãŸå¾Œã®ãŠèŒ¶ä¼šã‚‚æ¥½ã—ã¿ã®ä¸€ã¤ã§ã™ã€‚
                    </p>
                </div>
                
                <button class="btn btn-primary pulse">
                    <i class="fas fa-user-plus"></i>
                    å‚åŠ ã‚’ç”³ã—è¾¼ã‚€
                </button>
                
                <button class="btn btn-secondary" onclick="showPage('communitylist')">
                    <i class="fas fa-arrow-left"></i>
                    ä¸€è¦§ã«æˆ»ã‚‹
                </button>
                
                <div style="margin-top: 24px; padding: 12px; background: #F3F4F6; border-radius: 12px; text-align: center;">
                    <p style="font-size: 12px; color: var(--text-light); margin-bottom: 8px;">
                        ã“ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ãƒªãƒ¼ãƒ€ãƒ¼ã§ã™ã‹ï¼Ÿ
                    </p>
                    <button class="btn btn-secondary" onclick="showPage('communitymanager')" style="padding: 10px; font-size: 14px;">
                        <i class="fas fa-lock"></i>
                        ç®¡ç†ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³
                    </button>
                </div>
            </div>
        </div>

        <!-- Activity List Page -->
        <div id="page-activitylist" class="page">
            <div class="header header-small">
                <h1 class="header-title">ã‹ã‚“ãŸã‚“é‹å‹•</h1>
                <p class="header-subtitle">ä»Šæ—¥ã®é‹å‹•ã‚’é¸ã³ã¾ã—ã‚‡ã†</p>
            </div>
            
            <div class="content">
                <div class="exercise-card" onclick="showPage('step')">
                    <div class="exercise-icon" style="background: linear-gradient(135deg, #3B82F6, #1D4ED8);">
                        <i class="fas fa-walking"></i>
                    </div>
                    <div class="exercise-title">è¶³è¸ã¿é‹å‹•</div>
                    <div class="exercise-description">
                        ãã®å ´ã§3åˆ†é–“è¶³è¸ã¿<br>
                        è¡€è¡Œã‚’è‰¯ãã—ã¦ä½“ã‚’æ¸©ã‚ã¾ã™
                    </div>
                </div>
                
                <div class="exercise-card" onclick="showPage('radiostretch')">
                    <div class="exercise-icon" style="background: linear-gradient(135deg, #8B5CF6, #7C3AED);">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="exercise-title">ãƒ©ã‚¸ã‚ªä½“æ“</div>
                    <div class="exercise-description">
                        ãŠãªã˜ã¿ã®ãƒ©ã‚¸ã‚ªä½“æ“ç¬¬ä¸€<br>
                        å…¨èº«ã‚’ãƒãƒ©ãƒ³ã‚¹ã‚ˆãå‹•ã‹ã—ã¾ã™
                    </div>
                </div>
                
                <div class="exercise-card" onclick="showPage('easystretch')">
                    <div class="exercise-icon" style="background: linear-gradient(135deg, #10B981, #059669);">
                        <i class="fas fa-child"></i>
                    </div>
                    <div class="exercise-title">ã‹ã‚“ãŸã‚“ã‚¹ãƒˆãƒ¬ãƒƒãƒ</div>
                    <div class="exercise-description">
                        åº§ã£ãŸã¾ã¾ã§ã‚‚ã§ãã‚‹<br>
                        å„ªã—ã„ã‚¹ãƒˆãƒ¬ãƒƒãƒé‹å‹•
                    </div>
                </div>
                
                <div class="exercise-card" onclick="showPage('deepbreathe')">
                    <div class="exercise-icon" style="background: linear-gradient(135deg, #06B6D4, #0891B2);">
                        <i class="fas fa-wind"></i>
                    </div>
                    <div class="exercise-title">æ·±å‘¼å¸ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚º</div>
                    <div class="exercise-description">
                        ã‚†ã£ãã‚Šæ·±ã„å‘¼å¸ã§<br>
                        å¿ƒèº«ã‚’ãƒªãƒ©ãƒƒã‚¯ã‚¹
                    </div>
                </div>
            </div>
        </div>

        <!-- Step Exercise Page -->
        <div id="page-step" class="page">
            <div class="header header-small">
                <h1 class="header-title">è¶³è¸ã¿é‹å‹•</h1>
                <p class="header-subtitle">3åˆ†é–“ãƒãƒ£ãƒ¬ãƒ³ã‚¸</p>
            </div>
            
            <div class="content">
                <div class="card" style="text-align: center;">
                    <div style="font-size: 120px; margin: 40px 0;">
                        <i class="fas fa-walking" style="color: var(--primary-color);"></i>
                    </div>
                    
                    <h2 style="font-size: 48px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">
                        <span id="step-timer">0:00</span>
                    </h2>
                    
                    <p style="font-size: 18px; color: var(--text-light); margin-bottom: 32px;">
                        ç›®æ¨™ï¼š3åˆ†é–“
                    </p>
                    
                    <button id="step-start" class="btn btn-success" onclick="startStepExercise()">
                        <i class="fas fa-play"></i>
                        ã‚¹ã‚¿ãƒ¼ãƒˆ
                    </button>
                    
                    <button id="step-stop" class="btn btn-secondary" onclick="stopStepExercise()" style="display: none;">
                        <i class="fas fa-stop"></i>
                        çµ‚äº†ã™ã‚‹
                    </button>
                </div>
                
                <div class="card">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 12px;">ã‚„ã‚Šæ–¹</h3>
                    <ol style="padding-left: 20px; line-height: 1.8; color: var(--text-light);">
                        <li>èƒŒç­‹ã‚’ä¼¸ã°ã—ã¦ç«‹ã¡ã¾ã™</li>
                        <li>ãã®å ´ã§è¶³è¸ã¿ã‚’ã—ã¾ã™</li>
                        <li>è†ã¯è»½ãä¸Šã’ã‚‹ç¨‹åº¦ã§OK</li>
                        <li>è…•ã‚‚è‡ªç„¶ã«æŒ¯ã‚Šã¾ã—ã‚‡ã†</li>
                        <li>ç„¡ç†ã®ãªã„ãƒšãƒ¼ã‚¹ã§ç¶šã‘ã¾ã™</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Other Exercise Pages (Radio Stretch, Easy Stretch, Deep Breathe) -->
        <div id="page-radiostretch" class="page">
            <div class="header header-small">
                <h1 class="header-title">ãƒ©ã‚¸ã‚ªä½“æ“</h1>
                <p class="header-subtitle">å…¨èº«é‹å‹•</p>
            </div>
            
            <div class="content">
                <div class="card" style="text-align: center;">
                    <div style="font-size: 120px; margin: 40px 0;">
                        <i class="fas fa-music" style="color: var(--primary-color);"></i>
                    </div>
                    <p style="font-size: 18px; color: var(--text-light); margin-bottom: 32px;">
                        éŸ³æ¥½ã«åˆã‚ã›ã¦ä½“ã‚’å‹•ã‹ã—ã¾ã—ã‚‡ã†
                    </p>
                    <button class="btn btn-primary" onclick="showPage('finishedactivity')">
                        <i class="fas fa-check"></i>
                        å®Œäº†
                    </button>
                </div>
            </div>
        </div>

        <div id="page-easystretch" class="page">
            <div class="header header-small">
                <h1 class="header-title">ã‹ã‚“ãŸã‚“ã‚¹ãƒˆãƒ¬ãƒƒãƒ</h1>
                <p class="header-subtitle">ã‚†ã£ãã‚Šä½“ã‚’ã»ãã—ã¾ã—ã‚‡ã†</p>
            </div>
            
            <div class="content">
                <div class="card" style="text-align: center;">
                    <div style="font-size: 120px; margin: 40px 0;">
                        <i class="fas fa-child" style="color: var(--primary-color);"></i>
                    </div>
                    <p style="font-size: 18px; color: var(--text-light); margin-bottom: 32px;">
                        ç„¡ç†ã®ãªã„ç¯„å›²ã§ä½“ã‚’ä¼¸ã°ã—ã¾ã—ã‚‡ã†
                    </p>
                    <button class="btn btn-primary" onclick="showPage('finishedactivity')">
                        <i class="fas fa-check"></i>
                        å®Œäº†
                    </button>
                </div>
            </div>
        </div>

        <div id="page-deepbreathe" class="page">
            <div class="header header-small">
                <h1 class="header-title">æ·±å‘¼å¸ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚º</h1>
                <p class="header-subtitle">å¿ƒã‚’è½ã¡ç€ã‹ã›ã¾ã—ã‚‡ã†</p>
            </div>
            
            <div class="content">
                <div class="card" style="text-align: center;">
                    <div style="font-size: 120px; margin: 40px 0;">
                        <i class="fas fa-wind" style="color: var(--primary-color);"></i>
                    </div>
                    <p style="font-size: 18px; color: var(--text-light); margin-bottom: 32px;">
                        ã‚†ã£ãã‚Šæ·±ãå‘¼å¸ã—ã¾ã—ã‚‡ã†
                    </p>
                    <button class="btn btn-primary" onclick="showPage('finishedactivity')">
                        <i class="fas fa-check"></i>
                        å®Œäº†
                    </button>
                </div>
            </div>
        </div>

        <!-- Finished Activity -->
        <div id="page-finishedactivity" class="page">
            <div class="finished-container">
                <div class="finished-icon pulse">
                    <i class="fas fa-trophy"></i>
                </div>
                <h2 class="finished-title">ç´ æ™´ã‚‰ã—ã„ï¼</h2>
                <p class="finished-message">
                    ä»Šæ—¥ã®é‹å‹•ãŒå®Œäº†ã—ã¾ã—ãŸã€‚<br>
                    ä½“ã‚’å‹•ã‹ã™ã“ã¨ã¯å¥åº·ã¸ã®ç¬¬ä¸€æ­©ã§ã™ã€‚<br>
                    æ˜æ—¥ã‚‚ç¶šã‘ã¾ã—ã‚‡ã†ï¼
                </p>
                
                <button class="btn btn-primary" onclick="showPage('home')">
                    <i class="fas fa-home"></i>
                    ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
                </button>
                
                <button class="btn btn-secondary" onclick="showPage('activitylist')">
                    <i class="fas fa-redo"></i>
                    ä»–ã®é‹å‹•ã‚’è©¦ã™
                </button>
            </div>
        </div>

        <!-- Diagnosis Pages -->
        <div id="page-diagnosis1" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 1 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 12.5%;"></div>
                    </div>
                    
                    <div class="question-text">
                        ã©ã‚“ãªæ´»å‹•ãŒ<br>ãŠå¥½ãã§ã™ã‹ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ä½“ã‚’å‹•ã‹ã™ã“ã¨')">
                            ä½“ã‚’å‹•ã‹ã™ã“ã¨
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å‰µä½œæ´»å‹•')">
                            å‰µä½œæ´»å‹•
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ãŠã—ã‚ƒã¹ã‚Š')">
                            ãŠã—ã‚ƒã¹ã‚Š
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å­¦ã¶ã“ã¨')">
                            å­¦ã¶ã“ã¨
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('home')">
                            <i class="fas fa-times"></i> ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(2)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diagnosis 2-8 Pages -->
        <div id="page-diagnosis2" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 2 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 25%;"></div>
                    </div>
                    
                    <div class="question-text">
                        æ´»å‹•ã™ã‚‹æ™‚é–“å¸¯ã¯<br>ã„ã¤ãŒè‰¯ã„ã§ã™ã‹ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'æœï¼ˆ6-9æ™‚ï¼‰')">
                            æœï¼ˆ6-9æ™‚ï¼‰
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'åˆå‰ï¼ˆ9-12æ™‚ï¼‰')">
                            åˆå‰ï¼ˆ9-12æ™‚ï¼‰
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'åˆå¾Œï¼ˆ12-17æ™‚ï¼‰')">
                            åˆå¾Œï¼ˆ12-17æ™‚ï¼‰
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã„ã¤ã§ã‚‚å¤§ä¸ˆå¤«')">
                            ã„ã¤ã§ã‚‚å¤§ä¸ˆå¤«
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis1')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(3)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-diagnosis3" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 3 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 37.5%;"></div>
                    </div>
                    
                    <div class="question-text">
                        ã‚°ãƒ«ãƒ¼ãƒ—ã®äººæ•°ã¯<br>ã©ã®ãã‚‰ã„ãŒç†æƒ³ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å°‘äººæ•°ï¼ˆ5äººä»¥ä¸‹ï¼‰')">
                            å°‘äººæ•°ï¼ˆ5äººä»¥ä¸‹ï¼‰
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ä¸­äººæ•°ï¼ˆ6-10äººï¼‰')">
                            ä¸­äººæ•°ï¼ˆ6-10äººï¼‰
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å¤§äººæ•°ï¼ˆ11äººä»¥ä¸Šï¼‰')">
                            å¤§äººæ•°ï¼ˆ11äººä»¥ä¸Šï¼‰
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã“ã ã‚ã‚‰ãªã„')">
                            ã“ã ã‚ã‚‰ãªã„
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis2')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(4)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-diagnosis4" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 4 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 50%;"></div>
                    </div>
                    
                    <div class="question-text">
                        ä½“åŠ›ã«è‡ªä¿¡ã¯<br>ã‚ã‚Šã¾ã™ã‹ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã¨ã¦ã‚‚è‡ªä¿¡ãŒã‚ã‚‹')">
                            ã¨ã¦ã‚‚è‡ªä¿¡ãŒã‚ã‚‹
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã¾ã‚ã¾ã‚è‡ªä¿¡ãŒã‚ã‚‹')">
                            ã¾ã‚ã¾ã‚è‡ªä¿¡ãŒã‚ã‚‹
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã‚ã¾ã‚Šè‡ªä¿¡ãŒãªã„')">
                            ã‚ã¾ã‚Šè‡ªä¿¡ãŒãªã„
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å…¨ãè‡ªä¿¡ãŒãªã„')">
                            å…¨ãè‡ªä¿¡ãŒãªã„
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis3')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(5)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-diagnosis5" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 5 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 62.5%;"></div>
                    </div>
                    
                    <div class="question-text">
                        æ–°ã—ã„ã“ã¨ã‚’å­¦ã¶ã®ã¯<br>å¥½ãã§ã™ã‹ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã¨ã¦ã‚‚å¥½ã')">
                            ã¨ã¦ã‚‚å¥½ã
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å¥½ã')">
                            å¥½ã
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã©ã¡ã‚‰ã§ã‚‚ãªã„')">
                            ã©ã¡ã‚‰ã§ã‚‚ãªã„
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'è‹¦æ‰‹')">
                            è‹¦æ‰‹
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis4')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(6)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-diagnosis6" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 6 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 75%;"></div>
                    </div>
                    
                    <div class="question-text">
                        å±‹å†…ã¨å±‹å¤–<br>ã©ã¡ã‚‰ãŒå¥½ãï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å±‹å¤–ãŒå¥½ã')">
                            å±‹å¤–ãŒå¥½ã
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°å±‹å¤–')">
                            ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°å±‹å¤–
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°å±‹å†…')">
                            ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°å±‹å†…
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'å±‹å†…ãŒå¥½ã')">
                            å±‹å†…ãŒå¥½ã
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis5')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(7)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-diagnosis7" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 7 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 87.5%;"></div>
                    </div>
                    
                    <div class="question-text">
                        æ´»å‹•é »åº¦ã¯<br>ã©ã®ãã‚‰ã„ãŒè‰¯ã„ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'é€±3å›ä»¥ä¸Š')">
                            é€±3å›ä»¥ä¸Š
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'é€±2å›')">
                            é€±2å›
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'é€±1å›')">
                            é€±1å›
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'æœˆ2-3å›')">
                            æœˆ2-3å›
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis6')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="nextDiagnosis(8)">
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-diagnosis8" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨ºæ–­</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«åˆã£ãŸæ´»å‹•ã‚’è¦‹ã¤ã‘ã¾ã™</div>
            </div>
            
            <div class="content">
                <div class="card">
                    <div class="question-counter">è³ªå• 8 / 8</div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 100%;"></div>
                    </div>
                    
                    <div class="question-text">
                        å‚åŠ è²»ã®äºˆç®—ã¯<br>æœˆé¡ã©ã®ãã‚‰ã„ï¼Ÿ
                    </div>
                    
                    <div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ç„¡æ–™ãŒè‰¯ã„')">
                            ç„¡æ–™ãŒè‰¯ã„
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, '1,000å††ä»¥ä¸‹')">
                            1,000å††ä»¥ä¸‹
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, '3,000å††ä»¥ä¸‹')">
                            3,000å††ä»¥ä¸‹
                        </div>
                        <div class="health-option" onclick="selectDiagnosisOption(this, 'ã“ã ã‚ã‚‰ãªã„')">
                            ã“ã ã‚ã‚‰ãªã„
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button class="btn btn-secondary" onclick="showPage('diagnosis7')">
                            <i class="fas fa-arrow-left"></i> æˆ»ã‚‹
                        </button>
                        <button class="btn btn-primary" onclick="showDiagnosisResult()">
                            <i class="fas fa-check"></i> è¨ºæ–­çµæœã‚’è¦‹ã‚‹
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diagnosis Result Page -->
        <div id="page-diagnosisresult" class="page">
            <div class="diagnosis-header">
                <div class="diagnosis-title">è¨ºæ–­çµæœ</div>
                <div class="diagnosis-subtitle">ã‚ãªãŸã«ã´ã£ãŸã‚Šã®æ´»å‹•</div>
            </div>
            
            <div class="content">
                <div class="result-card">
                    <div class="result-icon good">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="result-title">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ´¾</div>
                    <div class="result-description">
                        ä½“ã‚’å‹•ã‹ã™ã“ã¨ãŒå¥½ããªã‚ãªãŸã«ã¯<br>
                        é‹å‹•ç³»ã®éƒ¨æ´»å‹•ãŒãŠã™ã™ã‚ã§ã™
                    </div>
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; margin: 24px 0 16px;">ãŠã™ã™ã‚ã®éƒ¨æ´»å‹•</h3>
                
                <div class="community-card" onclick="showPage('communitydetail')">
                    <img src="https://static.wixstatic.com/media/07cdbc_ffa8f4d3caa343ad96d08d1e33a3d943~mv2.jpg" 
                         alt="æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨" class="community-image">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</div>
                                <div class="badge badge-success">ãƒãƒƒãƒåº¦ 95%</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>12å</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="showPage('communitylist')">
                    <i class="fas fa-search"></i>
                    ä»–ã®éƒ¨æ´»ã‚‚è¦‹ã‚‹
                </button>
                
                <button class="btn btn-secondary" onclick="showPage('home')">
                    <i class="fas fa-home"></i>
                    ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
                </button>
            </div>
        </div>

        <!-- Community Manager Page -->
        <div id="page-communitymanager" class="page">
            <div class="header header-small">
                <h1 class="header-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç®¡ç†</h1>
                <p class="header-subtitle">ãƒªãƒ¼ãƒ€ãƒ¼å°‚ç”¨ãƒšãƒ¼ã‚¸</p>
            </div>
            
            <div class="content">
                <div class="manager-card">
                    <div class="manager-icon">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="manager-title">ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</div>
                    <div class="manager-description">
                        æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨ã®ç®¡ç†ç”»é¢
                    </div>
                </div>
                
                <div class="card" style="background: linear-gradient(135deg, #F0FDF4, #DCFCE7); border: 1px solid #86EFAC;">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #166534;">
                        <i class="fas fa-chart-line"></i> æ´»å‹•çŠ¶æ³
                    </h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                        <div style="text-align: center;">
                            <div style="font-size: 32px; font-weight: 700; color: var(--success-color);">12</div>
                            <div style="font-size: 14px; color: var(--text-light);">ç™»éŒ²ãƒ¡ãƒ³ãƒãƒ¼</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 32px; font-weight: 700; color: var(--primary-color);">8</div>
                            <div style="font-size: 14px; color: var(--text-light);">ä»Šé€±ã®å‚åŠ è€…</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 16px;">
                        <i class="fas fa-tools"></i> ç®¡ç†ãƒ¡ãƒ‹ãƒ¥ãƒ¼
                    </h3>
                    
                    <div class="activity-card" onclick="alert('ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™')">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #3B82F6, #1D4ED8); width: 48px; height: 48px;">
                            <i class="fas fa-users" style="font-size: 24px;"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title" style="font-size: 16px;">ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†</div>
                            <div class="activity-detail" style="font-size: 12px;">å‚åŠ è€…ã®ç¢ºèªãƒ»æ‰¿èª</div>
                        </div>
                        <div class="activity-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    
                    <div class="activity-card" onclick="alert('ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆæ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™')">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #10B981, #059669); width: 48px; height: 48px;">
                            <i class="fas fa-calendar-plus" style="font-size: 24px;"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title" style="font-size: 16px;">ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ</div>
                            <div class="activity-detail" style="font-size: 12px;">æ´»å‹•äºˆå®šã®ç™»éŒ²</div>
                        </div>
                        <div class="activity-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    
                    <div class="activity-card" onclick="alert('å‡ºæ¬ ç®¡ç†æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™')">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #F59E0B, #D97706); width: 48px; height: 48px;">
                            <i class="fas fa-clipboard-check" style="font-size: 24px;"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title" style="font-size: 16px;">å‡ºæ¬ ç®¡ç†</div>
                            <div class="activity-detail" style="font-size: 12px;">å‚åŠ çŠ¶æ³ã®ç¢ºèª</div>
                        </div>
                        <div class="activity-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    
                    <div class="activity-card" onclick="alert('ãƒ¬ãƒãƒ¼ãƒˆä½œæˆæ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™')">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #8B5CF6, #7C3AED); width: 48px; height: 48px;">
                            <i class="fas fa-file-alt" style="font-size: 24px;"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title" style="font-size: 16px;">æ´»å‹•ãƒ¬ãƒãƒ¼ãƒˆ</div>
                            <div class="activity-detail" style="font-size: 12px;">æ´»å‹•è¨˜éŒ²ã®ä½œæˆ</div>
                        </div>
                        <div class="activity-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    
                    <div class="activity-card" onclick="alert('å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™')">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #EC4899, #DB2777); width: 48px; height: 48px;">
                            <i class="fas fa-camera" style="font-size: 24px;"></i>
                        </div>
                        <div class="activity-info">
                            <div class="activity-title" style="font-size: 16px;">å†™çœŸç®¡ç†</div>
                            <div class="activity-detail" style="font-size: 12px;">æ´»å‹•å†™çœŸã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
                        </div>
                        <div class="activity-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="background: #FEF3C7; border: 1px solid #FCD34D;">
                    <p style="font-size: 14px; color: #78350F; text-align: center;">
                        <i class="fas fa-info-circle"></i>
                        ç®¡ç†æ©Ÿèƒ½ã¯èªè¨¼ã•ã‚ŒãŸãƒªãƒ¼ãƒ€ãƒ¼ã®ã¿åˆ©ç”¨å¯èƒ½ã§ã™
                    </p>
                </div>
                
                <button class="btn btn-secondary" onclick="showPage('home')">
                    <i class="fas fa-arrow-left"></i>
                    ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
                </button>
            </div>
        </div>

        <!-- Event List Page (ã“ã®æŒ‡æ­¢ã¾ã‚Œ) -->
        <div id="page-eventlist" class="page">
            <div class="header header-small">
                <h1 class="header-title">ãã®æŒ‡æ­¢ã¾ã‚Œ</h1>
                <p class="header-subtitle">æ°—è»½ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œã£ã¦å‚åŠ è€…ã‚’å‹Ÿé›†ã—ã‚ˆã†</p>
            </div>

            <div class="content">
                <button class="btn btn-primary pulse" onclick="showPage('eventcreate')" style="margin-bottom: 24px;">
                    <i class="fas fa-plus-circle"></i>
                    æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œã‚‹
                </button>

                <!-- Map View -->
                <div class="card" style="margin-bottom: 24px;">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 12px;">
                        <i class="fas fa-map-marked-alt"></i> ã‚¤ãƒ™ãƒ³ãƒˆåœ°å›³
                    </h3>
                    <div id="events-map" class="map-container"></div>
                </div>

                <!-- Sort Buttons -->
                <div class="sort-buttons">
                    <button class="sort-btn active" onclick="sortEvents('default')">
                        <i class="fas fa-clock"></i>
                        æ–°ç€é †
                    </button>
                    <button class="sort-btn" onclick="sortEvents('distance')">
                        <i class="fas fa-location-arrow"></i>
                        è·é›¢é †
                    </button>
                </div>

                <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 16px;">ã¿ã‚“ãªã®ã‚¤ãƒ™ãƒ³ãƒˆ</h2>

                <div style="display: flex; gap: 8px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 8px;">
                    <span class="badge badge-primary">ã™ã¹ã¦</span>
                    <span class="badge">ã‚¹ãƒãƒ¼ãƒ„</span>
                    <span class="badge">ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢</span>
                    <span class="badge">ã‚°ãƒ«ãƒ¡</span>
                    <span class="badge">è¶£å‘³</span>
                    <span class="badge">å­¦ã³</span>
                </div>

                <div class="community-card" onclick="showPage('eventdetail')">
                    <div class="community-content">
                        <div class="community-header">
                            <div style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div class="community-title">ğŸ¸ ãƒãƒ³ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†ï¼åˆå¿ƒè€…OK</div>
                                    <span class="badge badge-success">å‹Ÿé›†ä¸­</span>
                                </div>
                                <div class="community-category">è¶£å‘³ãƒ»éŸ³æ¥½</div>
                            </div>
                        </div>
                        <p style="color: var(--text-light); font-size: 14px; margin: 12px 0;">
                            é€±æœ«ã«ã‚¹ã‚¿ã‚¸ã‚ªã§ç·´ç¿’ã—ã¦ã¾ã™ã€‚ãƒ‰ãƒ©ãƒ ã¨ãƒ™ãƒ¼ã‚¹ã‚’å‹Ÿé›†ä¸­ï¼åˆå¿ƒè€…å¤§æ­“è¿ã§ã™ã€‚
                        </p>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-calendar"></i>
                                <span>12/15ï¼ˆåœŸï¼‰14:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚éŸ³æ¥½ã‚¹ã‚¿ã‚¸ã‚ª</span>
                                <span class="distance-badge" data-distance="">-</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>3/5å</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div class="community-title">âš¾ é‡çƒã‚„ã‚ã†ï¼å¤–é‡å‹Ÿé›†</div>
                                    <span class="badge badge-success">å‹Ÿé›†ä¸­</span>
                                </div>
                                <div class="community-category">ã‚¹ãƒãƒ¼ãƒ„</div>
                            </div>
                        </div>
                        <p style="color: var(--text-light); font-size: 14px; margin: 12px 0;">
                            è‰é‡çƒãƒãƒ¼ãƒ ã§å¤–é‡æ‰‹ã‚’å‹Ÿé›†ã—ã¦ã¾ã™ã€‚çµŒé¨“è€…å„ªé‡ã€ã§ã‚‚åˆå¿ƒè€…ã‚‚æ­“è¿ï¼
                        </p>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-calendar"></i>
                                <span>12/20ï¼ˆæ—¥ï¼‰9:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ç·åˆé‹å‹•å…¬åœ’</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>8/12å</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div class="community-title">ğŸ  ã¿ã‚“ãªã§èŠ‹æ˜ã‚Šï¼†BBQ</div>
                                    <span class="badge badge-warning">æ®‹ã‚Š3å</span>
                                </div>
                                <div class="community-category">ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢</div>
                            </div>
                        </div>
                        <p style="color: var(--text-light); font-size: 14px; margin: 12px 0;">
                            åˆå‰ä¸­ã«èŠ‹æ˜ã‚Šã€åˆå¾Œã¯BBQã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ï¼å®¶æ—ã§ã®å‚åŠ ã‚‚å¤§æ­“è¿ã§ã™ã€‚
                        </p>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-calendar"></i>
                                <span>12/22ï¼ˆæ—¥ï¼‰10:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚è¾²æ¥­ä½“é¨“æ–½è¨­</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>17/20å</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div class="community-title">ğŸ“¸ å†™çœŸæ•£æ­©ã€æ¡œã‚’æ’®ã‚Šã«è¡Œã“ã†</div>
                                    <span class="badge badge-success">å‹Ÿé›†ä¸­</span>
                                </div>
                                <div class="community-category">è¶£å‘³ãƒ»å†™çœŸ</div>
                            </div>
                        </div>
                        <p style="color: var(--text-light); font-size: 14px; margin: 12px 0;">
                            ã‚«ãƒ¡ãƒ©å¥½ããªäººã€ä¸€ç·’ã«æ•£æ­©ã—ãªãŒã‚‰å†™çœŸã‚’æ’®ã‚Šã¾ã›ã‚“ã‹ï¼Ÿã‚¹ãƒãƒ›ã§ã‚‚OKï¼
                        </p>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-calendar"></i>
                                <span>3/25ï¼ˆåœŸï¼‰8:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>2/8å</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Event Create Page -->
        <div id="page-eventcreate" class="page">
            <div class="header header-small">
                <h1 class="header-title">ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œã‚‹</h1>
                <p class="header-subtitle">ã‚„ã‚ŠãŸã„ã“ã¨ã‚’å½¢ã«ã—ã‚ˆã†</p>
            </div>

            <div class="content">
                <div class="card">
                    <form id="event-create-form">
                        <div class="form-group">
                            <label class="form-label">ã‚¤ãƒ™ãƒ³ãƒˆå</label>
                            <input type="text" class="form-input" placeholder="ä¾‹ï¼šãƒãƒ³ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†ï¼åˆå¿ƒè€…OK" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">ã‚«ãƒ†ã‚´ãƒªãƒ¼</label>
                            <select class="form-input" required>
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="sports">ã‚¹ãƒãƒ¼ãƒ„</option>
                                <option value="outdoor">ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢</option>
                                <option value="gourmet">ã‚°ãƒ«ãƒ¡</option>
                                <option value="hobby">è¶£å‘³</option>
                                <option value="learning">å­¦ã³</option>
                                <option value="other">ãã®ä»–</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">èª¬æ˜</label>
                            <textarea class="form-input" rows="4" placeholder="ã©ã‚“ãªã‚¤ãƒ™ãƒ³ãƒˆã‹è©³ã—ãæ•™ãˆã¦ãã ã•ã„" required></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">é–‹å‚¬æ—¥æ™‚</label>
                            <input type="datetime-local" class="form-input" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">å ´æ‰€</label>
                            <input type="text" id="event-location" class="form-input" placeholder="ä¾‹ï¼šæ—¥å‘å¸‚ä¸­å¤®å…¬åœ’" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">åœ°å›³ä¸Šã§å ´æ‰€ã‚’é¸æŠ</label>
                            <p style="font-size: 14px; color: var(--text-light); margin-bottom: 8px;">
                                åœ°å›³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å ´æ‰€ã‚’è¨­å®šã—ã¦ãã ã•ã„
                            </p>
                            <div id="location-picker-map" class="location-picker"></div>
                            <input type="hidden" id="event-lat" name="latitude">
                            <input type="hidden" id="event-lng" name="longitude">
                            <p style="font-size: 13px; color: var(--text-muted); margin-top: 8px;">
                                é¸æŠæ¸ˆã¿: <span id="selected-coords">æœªé¸æŠ</span>
                            </p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">å‹Ÿé›†äººæ•°</label>
                            <input type="number" class="form-input" placeholder="ä¾‹ï¼š10" min="1" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">å‚åŠ è²»ï¼ˆå††ï¼‰</label>
                            <input type="number" class="form-input" placeholder="0" min="0">
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-check"></i>
                            ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹
                        </button>
                    </form>

                    <button class="btn btn-secondary" onclick="showPage('eventlist')">
                        <i class="fas fa-arrow-left"></i>
                        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                    </button>
                </div>
            </div>
        </div>

        <!-- Event Detail Page -->
        <div id="page-eventdetail" class="page">
            <div class="header header-small">
                <h1 class="header-title">ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°</h1>
                <p class="header-subtitle">ãã®æŒ‡æ­¢ã¾ã‚Œ</p>
            </div>

            <div class="content">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                        <h2 style="font-size: 24px; font-weight: 600; color: var(--text-dark);">
                            ğŸ¸ ãƒãƒ³ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†ï¼åˆå¿ƒè€…OK
                        </h2>
                        <span class="badge badge-success">å‹Ÿé›†ä¸­</span>
                    </div>

                    <div class="community-category" style="margin-bottom: 16px;">è¶£å‘³ãƒ»éŸ³æ¥½</div>

                    <div style="background: var(--background); padding: 16px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <div style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: 600;">
                                ç”°
                            </div>
                            <div>
                                <div style="font-weight: 600; color: var(--text-dark);">ç”°ä¸­ã•ã‚“</div>
                                <div style="font-size: 12px; color: var(--text-light);">ä¸»å‚¬è€…</div>
                            </div>
                        </div>
                    </div>

                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 12px;">ã‚¤ãƒ™ãƒ³ãƒˆå†…å®¹</h3>
                    <p style="line-height: 1.8; color: var(--text-light); margin-bottom: 20px;">
                        é€±æœ«ã«ã‚¹ã‚¿ã‚¸ã‚ªã§ç·´ç¿’ã—ã¦ã¾ã™ã€‚ãƒ‰ãƒ©ãƒ ã¨ãƒ™ãƒ¼ã‚¹ã‚’å‹Ÿé›†ä¸­ï¼<br>
                        åˆå¿ƒè€…å¤§æ­“è¿ã§ã™ã€‚ä¸€ç·’ã«éŸ³æ¥½ã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ã€‚<br>
                        ãƒ­ãƒƒã‚¯ã€ãƒãƒƒãƒ—ã‚¹ã€ä½•ã§ã‚‚OKã§ã™ã€‚ã¾ãšã¯æ°—è»½ã«è¦‹å­¦ã‹ã‚‰ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ï¼
                    </p>

                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 12px;">è©³ç´°æƒ…å ±</h3>
                    <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 24px;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-calendar" style="color: var(--primary-color); width: 20px;"></i>
                            <span>2024å¹´12æœˆ15æ—¥ï¼ˆåœŸï¼‰14:00ã€œ17:00</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-map-marker-alt" style="color: var(--primary-color); width: 20px;"></i>
                            <span>æ—¥å‘å¸‚éŸ³æ¥½ã‚¹ã‚¿ã‚¸ã‚ª</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-users" style="color: var(--primary-color); width: 20px;"></i>
                            <span>ç¾åœ¨3åå‚åŠ  / å®šå“¡5å</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-yen-sign" style="color: var(--primary-color); width: 20px;"></i>
                            <span>å‚åŠ è²»ï¼š1,000å††ï¼ˆã‚¹ã‚¿ã‚¸ã‚ªä»£å‰²ã‚Šå‹˜ï¼‰</span>
                        </div>
                    </div>

                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 12px;">é–‹å‚¬å ´æ‰€</h3>
                    <div id="event-detail-map" class="map-container-small"></div>

                    <button class="btn btn-primary pulse">
                        <i class="fas fa-hand-point-up"></i>
                        ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹
                    </button>

                    <button class="btn btn-secondary" onclick="showPage('eventlist')">
                        <i class="fas fa-arrow-left"></i>
                        ä¸€è¦§ã«æˆ»ã‚‹
                    </button>
                </div>
            </div>
        </div>

        <!-- My Page -->
        <div id="page-mypage" class="page">
            <div class="header header-small">
                <h1 class="header-title">ãƒã‚¤ãƒšãƒ¼ã‚¸</h1>
                <p class="header-subtitle">ã‚ãªãŸã®æ´»å‹•</p>
            </div>

            <div class="content">
                <div class="card" style="background: linear-gradient(135deg, #F0F9FF, #E0F2FE); border: 1px solid #3B82F6;">
                    <div style="text-align: center;">
                        <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; font-weight: 600; margin: 0 auto 16px;">
                            å±±
                        </div>
                        <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 8px;">å±±ç”° å¤ªéƒã•ã‚“</h2>
                        <p style="color: var(--text-light); font-size: 14px;">ä¼šå“¡ç•ªå·: FUN-2024-001</p>
                    </div>
                </div>

                <h2 style="font-size: 20px; font-weight: 600; margin: 24px 0 16px;">
                    <i class="fas fa-users" style="color: var(--primary-color);"></i>
                    æ‰€å±ã—ã¦ã„ã‚‹éƒ¨æ´»
                </h2>

                <div class="community-card" onclick="showPage('communitydetail')">
                    <img src="https://static.wixstatic.com/media/07cdbc_ffa8f4d3caa343ad96d08d1e33a3d943~mv2.jpg"
                         alt="æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨" class="community-image">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</div>
                                <div class="community-category">é‹å‹•ç³»</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-clock"></i>
                                <span>ç«ãƒ»æœ¨ 7:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>12å</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div>
                                <div class="community-title">çµµæ‰‹ç´™ã‚µãƒ¼ã‚¯ãƒ«</div>
                                <div class="community-category">æ–‡åŒ–ç³»</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚å…¬æ°‘é¤¨</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-clock"></i>
                                <span>æ°´ 14:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-users"></i>
                                <span>15å</span>
                            </div>
                        </div>
                    </div>
                </div>

                <h2 style="font-size: 20px; font-weight: 600; margin: 32px 0 16px;">
                    <i class="fas fa-calendar-check" style="color: var(--success-color);"></i>
                    å‚åŠ äºˆå®šã®ã‚¤ãƒ™ãƒ³ãƒˆ
                </h2>

                <div class="community-card" onclick="showPage('eventdetail')">
                    <div class="community-content">
                        <div class="community-header">
                            <div style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div class="community-title">ğŸ¸ ãƒãƒ³ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†ï¼åˆå¿ƒè€…OK</div>
                                    <span class="badge badge-primary">å‚åŠ äºˆå®š</span>
                                </div>
                                <div class="community-category">è¶£å‘³ãƒ»éŸ³æ¥½</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-calendar"></i>
                                <span>12/15ï¼ˆåœŸï¼‰14:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚éŸ³æ¥½ã‚¹ã‚¿ã‚¸ã‚ª</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="community-card">
                    <div class="community-content">
                        <div class="community-header">
                            <div style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div class="community-title">ğŸ  ã¿ã‚“ãªã§èŠ‹æ˜ã‚Šï¼†BBQ</div>
                                    <span class="badge badge-primary">å‚åŠ äºˆå®š</span>
                                </div>
                                <div class="community-category">ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢</div>
                            </div>
                        </div>
                        <div class="community-details">
                            <div class="community-detail">
                                <i class="fas fa-calendar"></i>
                                <span>12/22ï¼ˆæ—¥ï¼‰10:00</span>
                            </div>
                            <div class="community-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>æ—¥å‘å¸‚è¾²æ¥­ä½“é¨“æ–½è¨­</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 32px;">
                    <button class="btn btn-primary" onclick="showPage('eventlist')">
                        <i class="fas fa-plus"></i>
                        æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¢ã™
                    </button>

                    <button class="btn btn-secondary" onclick="showPage('communitylist')">
                        <i class="fas fa-search"></i>
                        æ–°ã—ã„éƒ¨æ´»ã‚’æ¢ã™
                    </button>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="nav-bar">
            <button class="nav-item active" onclick="navigateTo('home')">
                <i class="fas fa-home"></i>
                <span>ãƒ›ãƒ¼ãƒ </span>
            </button>
            <button class="nav-item" onclick="navigateTo('communitylist')">
                <i class="fas fa-users"></i>
                <span>éƒ¨æ´»</span>
            </button>
            <button class="nav-item" onclick="navigateTo('eventlist')">
                <i class="fas fa-hand-point-up"></i>
                <span>ãã®æŒ‡æ­¢ã¾ã‚Œ</span>
            </button>
            <button class="nav-item" onclick="navigateTo('mypage')">
                <i class="fas fa-user"></i>
                <span>ãƒã‚¤ãƒšãƒ¼ã‚¸</span>
            </button>
        </nav>
    </div>

    <script>
        // Current page tracking
        let currentPage = 'login';
        let healthStep = 1;
        let stepTimer = null;
        let stepSeconds = 0;
        let interviewDone = false;
        let diagnosisAnswers = {};

        // Map and location tracking
        let locationPickerMap = null;
        let eventsMap = null;
        let eventDetailMap = null;
        let selectedMarker = null;
        let selectedLocation = null;
        let userLocation = null;
        let eventsData = [
            {
                id: 1,
                title: 'ğŸ¸ ãƒãƒ³ãƒ‰ãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†ï¼åˆå¿ƒè€…OK',
                category: 'è¶£å‘³ãƒ»éŸ³æ¥½',
                description: 'é€±æœ«ã«ã‚¹ã‚¿ã‚¸ã‚ªã§ç·´ç¿’ã—ã¦ã¾ã™ã€‚ãƒ‰ãƒ©ãƒ ã¨ãƒ™ãƒ¼ã‚¹ã‚’å‹Ÿé›†ä¸­ï¼åˆå¿ƒè€…å¤§æ­“è¿ã§ã™ã€‚',
                date: '12/15ï¼ˆåœŸï¼‰14:00',
                location: 'æ—¥å‘å¸‚éŸ³æ¥½ã‚¹ã‚¿ã‚¸ã‚ª',
                lat: 32.4214,
                lng: 131.6246,
                participants: '3/5å',
                fee: '1,000å††'
            },
            {
                id: 2,
                title: 'âš¾ é‡çƒã‚„ã‚ã†ï¼å¤–é‡å‹Ÿé›†',
                category: 'ã‚¹ãƒãƒ¼ãƒ„',
                description: 'è‰é‡çƒãƒãƒ¼ãƒ ã§å¤–é‡æ‰‹ã‚’å‹Ÿé›†ã—ã¦ã¾ã™ã€‚çµŒé¨“è€…å„ªé‡ã€ã§ã‚‚åˆå¿ƒè€…ã‚‚æ­“è¿ï¼',
                date: '12/16ï¼ˆæ—¥ï¼‰9:00',
                location: 'æ—¥å‘å¸‚ç·åˆé‹å‹•å…¬åœ’',
                lat: 32.4350,
                lng: 131.6300,
                participants: '8/12å',
                fee: 'ç„¡æ–™'
            }
        ];

        // Diagnosis navigation
        function nextDiagnosis(nextPage) {
            const currentElement = document.querySelector('#page-diagnosis' + (nextPage - 1) + ' .health-option.selected');
            if (!currentElement) {
                alert('å›ç­”ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }
            diagnosisAnswers['q' + (nextPage - 1)] = currentElement.textContent.trim();
            showPage('diagnosis' + nextPage);
        }

        function showDiagnosisResult() {
            const currentElement = document.querySelector('#page-diagnosis8 .health-option.selected');
            if (!currentElement) {
                alert('å›ç­”ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }
            diagnosisAnswers['q8'] = currentElement.textContent.trim();
            
            // è¨ºæ–­çµæœã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆç°¡æ˜“ç‰ˆï¼‰
            // å®Ÿéš›ã«ã¯ã‚‚ã£ã¨è¤‡é›‘ãªåˆ¤å®šãŒå¿…è¦
            showPage('diagnosisresult');
        }

        // Check time for health check (after 18:00)
        function checkTimeAndShowHealthCheck() {
            const now = new Date();
            const currentHour = now.getHours();
            
            if (currentHour >= 18 || interviewDone) {
                showPage('healthcheck');
            } else {
                // Show time restriction notice
                document.getElementById('health-time-notice').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('health-time-notice').style.display = 'none';
                }, 3000);
            }
        }

        // Show page function
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            const page = document.getElementById('page-' + pageId);
            if (page) {
                page.classList.add('active');
                currentPage = pageId;

                // Update navigation if on main pages
                updateNavigation(pageId);

                // If finished interview, mark as done
                if (pageId === 'finishedinterview') {
                    interviewDone = true;
                }

                // Initialize maps when entering map-enabled pages
                setTimeout(() => {
                    if (pageId === 'eventcreate') {
                        initLocationPicker();
                    } else if (pageId === 'eventlist') {
                        initEventsMap();
                        getUserLocation();
                    } else if (pageId === 'eventdetail') {
                        initEventDetailMap();
                    }
                }, 100);
            }
        }

        // Navigation function
        function navigateTo(pageId) {
            showPage(pageId);
        }

        // Update navigation active state
        function updateNavigation(pageId) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Map pages to nav items
            const navMap = {
                'home': 0,
                'communitylist': 1,
                'communitydetail': 1,
                'diagnosis1': 1,
                'diagnosis2': 1,
                'diagnosis3': 1,
                'diagnosis4': 1,
                'diagnosis5': 1,
                'diagnosis6': 1,
                'diagnosis7': 1,
                'diagnosis8': 1,
                'diagnosisresult': 1,
                'eventlist': 2,
                'eventcreate': 2,
                'eventdetail': 2,
                'mypage': 3
            };

            if (navMap[pageId] !== undefined) {
                document.querySelectorAll('.nav-item')[navMap[pageId]].classList.add('active');
            }
        }

        // Form submissions
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showPage('home');
        });

        document.getElementById('signup-form').addEventListener('submit', function(e) {
            e.preventDefault();
            showPage('home');
        });

        document.getElementById('event-create-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const form = e.target;
            const eventName = form.querySelector('input[type="text"]').value;
            const category = form.querySelector('select').value;
            const description = form.querySelector('textarea').value;
            const datetime = form.querySelector('input[type="datetime-local"]').value;
            const location = document.getElementById('event-location').value;
            const participants = form.querySelector('input[type="number"]').value;
            const fee = form.querySelectorAll('input[type="number"]')[1].value;
            const lat = parseFloat(document.getElementById('event-lat').value);
            const lng = parseFloat(document.getElementById('event-lng').value);

            if (!lat || !lng) {
                alert('åœ°å›³ä¸Šã§å ´æ‰€ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }

            // Create new event
            const newEvent = {
                id: eventsData.length + 1,
                title: eventName,
                category: category,
                description: description,
                date: datetime,
                location: location,
                lat: lat,
                lng: lng,
                participants: `0/${participants}å`,
                fee: fee ? `${fee}å††` : 'ç„¡æ–™'
            };

            eventsData.push(newEvent);
            alert('ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸï¼');
            showPage('eventlist');
        });

        // Social login functions
        function loginWithGoogle() {
            // Simulate login
            setTimeout(() => {
                showPage('home');
            }, 500);
        }

        function loginWithApple() {
            // Simulate login
            setTimeout(() => {
                showPage('home');
            }, 500);
        }

        // Daily option selection
        function selectDailyOption(element, value) {
            // Remove previous selection
            element.parentElement.querySelectorAll('.health-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            // Add selection to clicked element
            element.classList.add('selected');
        }

        // Diagnosis option selection
        function selectDiagnosisOption(element, value) {
            // Remove previous selection
            element.parentElement.querySelectorAll('.health-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            // Add selection to clicked element
            element.classList.add('selected');
        }

        // Step exercise functions
        function startStepExercise() {
            document.getElementById('step-start').style.display = 'none';
            document.getElementById('step-stop').style.display = 'block';
            
            stepSeconds = 0;
            updateStepTimer();
            
            stepTimer = setInterval(() => {
                stepSeconds++;
                updateStepTimer();
                
                // Auto stop at 3 minutes
                if (stepSeconds >= 180) {
                    stopStepExercise();
                    alert('3åˆ†é–“é”æˆï¼ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼');
                    showPage('finishedactivity');
                }
            }, 1000);
        }

        function stopStepExercise() {
            if (stepTimer) {
                clearInterval(stepTimer);
                stepTimer = null;
            }
            
            document.getElementById('step-start').style.display = 'block';
            document.getElementById('step-stop').style.display = 'none';
            
            if (stepSeconds > 0) {
                showPage('finishedactivity');
            }
        }

        function updateStepTimer() {
            const minutes = Math.floor(stepSeconds / 60);
            const seconds = stepSeconds % 60;
            document.getElementById('step-timer').textContent =
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // Map initialization functions
        function initLocationPicker() {
            if (locationPickerMap) {
                locationPickerMap.remove();
            }

            // Default center: Hyuga City, Miyazaki
            const defaultLat = 32.4214;
            const defaultLng = 131.6246;

            locationPickerMap = L.map('location-picker-map').setView([defaultLat, defaultLng], 13);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(locationPickerMap);

            // Add click event to set location
            locationPickerMap.on('click', function(e) {
                if (selectedMarker) {
                    locationPickerMap.removeLayer(selectedMarker);
                }

                selectedMarker = L.marker([e.latlng.lat, e.latlng.lng]).addTo(locationPickerMap);
                selectedLocation = { lat: e.latlng.lat, lng: e.latlng.lng };

                document.getElementById('event-lat').value = e.latlng.lat;
                document.getElementById('event-lng').value = e.latlng.lng;
                document.getElementById('selected-coords').textContent =
                    `ç·¯åº¦: ${e.latlng.lat.toFixed(5)}, çµŒåº¦: ${e.latlng.lng.toFixed(5)}`;
            });
        }

        function initEventsMap() {
            if (eventsMap) {
                eventsMap.remove();
            }

            const defaultLat = 32.4214;
            const defaultLng = 131.6246;

            eventsMap = L.map('events-map').setView([defaultLat, defaultLng], 12);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(eventsMap);

            // Add markers for all events
            eventsData.forEach(event => {
                if (event.lat && event.lng) {
                    const marker = L.marker([event.lat, event.lng]).addTo(eventsMap);
                    marker.bindPopup(`<b>${event.title}</b><br>${event.location}<br>${event.date}`);
                }
            });

            // Add user location marker if available
            if (userLocation) {
                L.circleMarker([userLocation.lat, userLocation.lng], {
                    color: '#4A90E2',
                    fillColor: '#4A90E2',
                    fillOpacity: 0.3,
                    radius: 10
                }).addTo(eventsMap).bindPopup('ç¾åœ¨åœ°');
            }
        }

        function initEventDetailMap() {
            if (eventDetailMap) {
                eventDetailMap.remove();
            }

            // Use the first event for demo
            const event = eventsData[0];
            if (!event.lat || !event.lng) return;

            eventDetailMap = L.map('event-detail-map').setView([event.lat, event.lng], 15);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(eventDetailMap);

            L.marker([event.lat, event.lng]).addTo(eventDetailMap)
                .bindPopup(`<b>${event.title}</b><br>${event.location}`);
        }

        // Get user's current location
        function getUserLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        calculateDistances();
                    },
                    (error) => {
                        console.log('ä½ç½®æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
                    }
                );
            }
        }

        // Calculate distance between two points (Haversine formula)
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Earth's radius in km
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                    Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        // Calculate distances from user location to all events
        function calculateDistances() {
            if (!userLocation) return;

            eventsData.forEach(event => {
                if (event.lat && event.lng) {
                    event.distance = calculateDistance(
                        userLocation.lat, userLocation.lng,
                        event.lat, event.lng
                    );
                }
            });

            // Update distance badges on the page
            updateDistanceBadges();
        }

        // Update distance badges in event cards
        function updateDistanceBadges() {
            const badges = document.querySelectorAll('.distance-badge');
            badges.forEach((badge, index) => {
                if (eventsData[index] && eventsData[index].distance !== undefined) {
                    const distance = eventsData[index].distance;
                    if (distance < 1) {
                        badge.textContent = `${Math.round(distance * 1000)}m`;
                    } else {
                        badge.textContent = `${distance.toFixed(1)}km`;
                    }
                }
            });
        }

        // Sort events by distance or default
        function sortEvents(sortType) {
            // Update button states
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            if (sortType === 'distance') {
                if (!userLocation) {
                    alert('ä½ç½®æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§ä½ç½®æƒ…å ±ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }
                eventsData.sort((a, b) => (a.distance || Infinity) - (b.distance || Infinity));
            } else {
                // Default sort (by creation time / id)
                eventsData.sort((a, b) => a.id - b.id);
            }

            // Refresh the events list (in a real app, you'd re-render the event cards)
            updateDistanceBadges();
        }

        // Add touch feedback
        document.addEventListener('DOMContentLoaded', function() {
            // Add touch feedback to all interactive elements
            const touchables = document.querySelectorAll('.card, .btn, .health-option, .activity-card, .community-card, .exercise-card');
            touchables.forEach(element => {
                element.classList.add('touchable');
            });

            // Prevent double tap zoom
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        });
    </script>
</body>
</html>
