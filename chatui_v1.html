<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>FUNãƒ»Aãƒ»ROOM ãƒãƒ£ãƒƒãƒˆUI ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Hiragino Sans", "Yu Gothic", "Meiryo", sans-serif;
            background: #f1f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 24px;
            color: #1f2933;
        }

        .phone-frame {
            width: 100%;
            max-width: 430px;
            height: 900px;
            background: #101316;
            border-radius: 46px;
            padding: 12px;
            box-shadow: 0 25px 60px rgba(15, 23, 42, 0.35);
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            background: #ffffff;
            border-radius: 34px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .status-bar {
            height: 54px;
            padding: 0 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #ffffff;
            border-bottom: 1px solid rgba(148, 163, 184, 0.3);
            font-weight: 600;
            letter-spacing: 0.02em;
        }

        /* ä¸Šã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .top-nav {
            display: flex;
            background: #ffffff;
            border-bottom: 1px solid rgba(148, 163, 184, 0.3);
            padding: 0;
        }

        .top-nav-button {
            flex: 1;
            background: none;
            border: none;
            padding: 16px;
            cursor: pointer;
            font-size: 17px;
            color: #64748b;
            font-weight: 500;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
        }

        .top-nav-button.active {
            color: #4A90E2;
            font-weight: 600;
            border-bottom-color: #4A90E2;
        }

        .top-nav-button:active {
            background: #f8fafc;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .main-tab-content {
            display: none;
            flex: 1;
            flex-direction: column;
            overflow: hidden;
        }

        .main-tab-content.active {
            display: flex;
        }

        .chat-header {
            padding: 24px 28px 20px;
            background: linear-gradient(145deg, #4A90E2 0%, #5CA0F2 100%);
            color: #fff;
        }

        .assistant-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 6px;
        }

        .assistant-subtitle {
            font-size: 17px;
            opacity: 0.95;
            line-height: 1.6;
        }

        .chat-body {
            flex: 1;
            background: #f7fafc;
            padding: 20px 18px 120px;
            overflow-y: auto;
            position: relative;
            transition: padding-bottom 0.3s ease;
        }

        .chat-footer.collapsed ~ .chat-body {
            padding-bottom: 80px;
        }

        .chat-body::-webkit-scrollbar {
            width: 0;
        }

        .message {
            display: flex;
            margin-bottom: 18px;
            gap: 12px;
            align-items: flex-start;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.assistant {
            flex-direction: row;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4A90E2 0%, #5CA0F2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 20px;
            flex-shrink: 0;
        }

        .bubble {
            max-width: 78%;
            padding: 16px 18px;
            border-radius: 22px;
            font-size: 17px;
            line-height: 1.7;
            box-shadow: 0 10px 20px rgba(15, 23, 42, 0.08);
        }

        .assistant .bubble {
            background: #fff;
            border-bottom-left-radius: 8px;
        }

        .user .bubble {
            background: #4A90E2;
            color: #fff;
            border-bottom-right-radius: 8px;
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 16px;
        }

        .quick-button {
            padding: 16px 20px;
            border-radius: 18px;
            border: none;
            font-size: 18px;
            background: #e2efff;
            color: #2563eb;
            font-weight: 600;
            letter-spacing: 0.04em;
            box-shadow: inset 0 -2px 0 rgba(37, 99, 235, 0.08);
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-button i {
            margin-right: 8px;
        }

        .quick-button:active {
            transform: scale(0.97);
            box-shadow: inset 0 -2px 0 rgba(37, 99, 235, 0.15);
        }

        .card {
            background: #ffffff;
            border-radius: 22px;
            padding: 20px 22px;
            box-shadow: 0 12px 28px rgba(15, 23, 42, 0.12);
            margin-top: 14px;
            font-size: 17px;
            line-height: 1.75;
        }

        .card h3 {
            font-size: 20px;
            margin-bottom: 12px;
        }

        .card p {
            margin-bottom: 10px;
        }

        .card .secondary {
            font-size: 15px;
            color: #64748b;
        }

        .card .action-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 16px;
        }

        .card-button {
            background: #4A90E2;
            color: #fff;
            font-weight: 600;
            border: none;
            border-radius: 14px;
            padding: 12px 18px;
            font-size: 16px;
            box-shadow: 0 8px 18px rgba(37, 99, 235, 0.25);
            cursor: pointer;
            transition: all 0.2s;
        }

        .card-button:active {
            transform: scale(0.97);
        }

        .card-button.secondary {
            background: #e2e8f0;
            color: #1f2933;
            box-shadow: none;
        }

        .progress {
            margin-top: 10px;
            font-size: 16px;
            color: #1f2933;
        }

        .progress span {
            font-weight: 700;
        }

        .chat-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: #ffffff;
            padding: 20px 24px 28px;
            border-top: 1px solid rgba(148, 163, 184, 0.3);
            box-shadow: 0 -10px 30px rgba(15, 23, 42, 0.1);
            transition: all 0.3s ease;
        }

        .chat-footer.collapsed {
            padding: 0;
        }

        .footer-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            background: #f8fafc;
            border-top: 1px solid rgba(148, 163, 184, 0.3);
            cursor: pointer;
            user-select: none;
        }

        .footer-toggle:active {
            background: #f1f5f9;
        }

        .footer-toggle-title {
            font-size: 17px;
            font-weight: 700;
            color: #1f2933;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-toggle-icon {
            font-size: 14px;
            color: #64748b;
            transition: transform 0.3s ease;
        }

        .footer-toggle-icon.expanded {
            transform: rotate(180deg);
        }

        .footer-content {
            padding: 20px 24px 28px;
            max-height: 400px;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .footer-content.collapsed {
            max-height: 0;
            padding: 0 24px;
        }

        .footer-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 14px;
        }

        .reply-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .reply-button {
            padding: 16px 12px;
            background: #f1f5f9;
            border-radius: 16px;
            border: 2px solid transparent;
            font-size: 17px;
            font-weight: 600;
            color: #1e3a8a;
            text-align: center;
            letter-spacing: 0.03em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .reply-button:active {
            border-color: #4A90E2;
            background: #e2efff;
        }

        .reply-button.full {
            grid-column: span 2;
        }

        .divider {
            height: 1px;
            background: rgba(148, 163, 184, 0.25);
            margin: 12px 0 16px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 700;
            color: #475569;
            margin-bottom: 8px;
        }

        .tag {
            display: inline-flex;
            align-items: center;
            padding: 6px 10px;
            background: #fef9c3;
            border-radius: 999px;
            font-size: 14px;
            color: #854d0e;
            font-weight: 600;
            margin-right: 8px;
        }

        .support-card {
            background: #fff7ed;
            border-left: 6px solid #f97316;
        }

        .history-section {
            background: #f8fafc;
            border-radius: 16px;
            padding: 16px;
            margin: 16px 0;
        }

        .history-title {
            font-size: 16px;
            font-weight: 700;
            color: #64748b;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .history-item {
            background: #fff;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e2e8f0;
        }

        .history-item:hover {
            background: #f1f5f9;
        }

        .history-item:active {
            transform: scale(0.98);
        }

        .history-date {
            font-size: 14px;
            font-weight: 600;
            color: #4A90E2;
            margin-bottom: 4px;
        }

        .history-content {
            font-size: 14px;
            color: #64748b;
        }

        .hidden {
            display: none;
        }

        /* éƒ¨æ´»å‹•é–¢é€£ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .activities-container {
            flex: 1;
            background: #f7fafc;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .activities-header {
            padding: 24px 28px 20px;
            background: linear-gradient(145deg, #4A90E2 0%, #5CA0F2 100%);
            color: #fff;
        }

        .activities-header-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 6px;
        }

        .activities-header-subtitle {
            font-size: 17px;
            opacity: 0.95;
        }

        .activities-content {
            flex: 1;
            padding: 20px 18px;
        }

        /* ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚¿ãƒ– */
        .category-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .category-tabs::-webkit-scrollbar {
            height: 0;
        }

        .category-tab {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 10px 18px;
            font-size: 16px;
            color: #666;
            cursor: pointer;
            white-space: nowrap;
            font-weight: 500;
            transition: all 0.2s;
        }

        .category-tab.active {
            background: linear-gradient(135deg, #4A90E2 0%, #5CA0F2 100%);
            border-color: #4A90E2;
            color: white;
            font-weight: 600;
        }

        /* éƒ¨æ´»å‹•ã‚«ãƒ¼ãƒ‰ */
        .activity-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.2s;
        }

        .activity-card:active {
            transform: scale(0.98);
        }

        .activity-image {
            width: 100%;
            height: 160px;
            background: linear-gradient(135deg, #4A90E2 0%, #5CA0F2 100%);
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .activity-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%);
            padding: 16px;
            color: white;
        }

        .activity-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
        }

        .activity-content {
            padding: 20px;
        }

        .activity-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .activity-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            color: #666;
            margin-bottom: 8px;
        }

        .activity-info i {
            color: #4A90E2;
            width: 20px;
        }

        /* éƒ¨æ´»å‹•è©³ç´°ç”»é¢ */
        .detail-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ffffff;
            overflow-y: auto;
            display: none;
            flex-direction: column;
            z-index: 1000;
        }

        .detail-container.active {
            display: flex;
        }

        .detail-image {
            width: 100%;
            height: 240px;
            background: linear-gradient(135deg, #4A90E2 0%, #5CA0F2 100%);
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .detail-back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            border: none;
            color: white;
            padding: 14px 24px;
            border-radius: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.2s;
        }

        .detail-back-btn:active {
            transform: scale(0.95);
            background: rgba(0,0,0,0.8);
        }

        .detail-back-btn i {
            font-size: 20px;
        }

        .detail-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 100%);
            padding: 24px;
            color: white;
        }

        .detail-title {
            font-size: 26px;
            font-weight: 700;
            margin-top: 8px;
        }

        /* è©³ç´°ã‚¿ãƒ– */
        .detail-tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid #f0f0f0;
            padding: 0;
        }

        .detail-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 16px;
            color: #999;
            font-weight: 500;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
        }

        .detail-tab.active {
            color: #4A90E2;
            font-weight: 600;
            border-bottom-color: #4A90E2;
        }

        .detail-tab i {
            font-size: 18px;
        }

        .tab-content {
            display: none;
            background: white;
        }

        .tab-content.active {
            display: block;
        }

        .tab-inner {
            padding: 24px;
        }

        /* è©³ç´°æƒ…å ± */
        .detail-info-card {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .detail-info-row {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .detail-info-row:last-child {
            border-bottom: none;
        }

        .detail-info-row i {
            color: #4A90E2;
            font-size: 20px;
            width: 24px;
            margin-top: 2px;
        }

        .detail-info-row .info-label {
            display: block;
            font-size: 14px;
            color: #999;
            margin-bottom: 4px;
        }

        .detail-info-row .info-value {
            display: block;
            font-size: 16px;
            color: #333;
            font-weight: 600;
        }

        .detail-description {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .detail-description h3 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .detail-description p {
            font-size: 16px;
            line-height: 1.6;
            color: #666;
        }

        /* æ´»å‹•å ±å‘Šã‚«ãƒ¼ãƒ‰ */
        .report-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .report-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 16px;
            display: block;
        }

        .report-header {
            margin-bottom: 16px;
        }

        .report-meta {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .report-author {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .report-date {
            font-size: 14px;
            color: #999;
        }

        .report-content {
            font-size: 16px;
            line-height: 1.6;
            color: #666;
            margin-bottom: 16px;
        }

        .report-stats {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #999;
        }

        .report-stats span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .report-stats i {
            color: #FF6B6B;
        }

        .success-button {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 8px 18px rgba(16, 185, 129, 0.25);
        }

        @media (max-width: 450px) {
            body {
                padding: 0;
            }
            .phone-frame {
                border-radius: 0;
                padding: 0;
                height: 100vh;
                max-width: 100%;
            }
            .screen {
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
    <div class="phone-frame">
        <div class="screen">
            <div class="status-bar">
                <span>9:41</span>
                <span><i class="fa-solid fa-signal"></i> <i class="fa-solid fa-wifi"></i> 100%</span>
            </div>

            <!-- ä¸Šã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
            <div class="top-nav">
                <button class="top-nav-button active" onclick="switchMainTab('home')">ãƒ›ãƒ¼ãƒ </button>
                <button class="top-nav-button" onclick="switchMainTab('activities')">éƒ¨æ´»å‹•ä¸€è¦§</button>
            </div>

            <!-- ãƒ›ãƒ¼ãƒ ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆãƒãƒ£ãƒƒãƒˆç”»é¢ï¼‰-->
            <div id="home-tab" class="main-tab-content active">
                <div class="chat-header">
                    <div class="assistant-name">FUNãƒ»Aãƒ»ROOM ã‚±ã‚¢ãƒŠãƒ“</div>
                    <div class="assistant-subtitle">ç”°ä¸­ã•ã‚“ã€ä»Šæ—¥ã‚‚å…ƒæ°—ã«éã”ã—ã¾ã—ã‚‡ã†ã€‚å›°ã£ãŸã‚‰ã„ã¤ã§ã‚‚å£°ã‚’ã‹ã‘ã¦ãã ã•ã„ã­ã€‚</div>
                </div>
                <div class="chat-body" id="chatBody">
                    <!-- ä¼šè©±ã¯JavaScriptã§å‹•çš„ã«è¿½åŠ ã•ã‚Œã¾ã™ -->
                </div>
                <div class="chat-footer" id="chatFooter">
                <div class="footer-toggle" onclick="toggleFooter()">
                    <div class="footer-toggle-title">
                        <i class="fa-solid fa-bars"></i>
                        ã‹ã‚“ãŸã‚“æ“ä½œãƒœã‚¿ãƒ³
                    </div>
                    <i class="fa-solid fa-chevron-up footer-toggle-icon expanded" id="toggleIcon"></i>
                </div>
                <div class="footer-content" id="footerContent">
                    <div class="reply-grid">
                        <button class="reply-button" onclick="startDailyCheck()"><i class="fa-solid fa-pen-to-square"></i> è¨˜éŒ²ã™ã‚‹</button>
                        <button class="reply-button" onclick="showGameMenu()"><i class="fa-solid fa-gamepad"></i> ã‚²ãƒ¼ãƒ </button>
                        <button class="reply-button" onclick="showHealthCheck()"><i class="fa-solid fa-stethoscope"></i> å¥åº·è¨ºæ–­</button>
                        <button class="reply-button" onclick="showActivities()"><i class="fa-solid fa-people-group"></i> éƒ¨æ´»å‹•</button>
                        <button class="reply-button full" onclick="showHistory()"><i class="fa-solid fa-clock-rotate-left"></i> å±¥æ­´ã‚’è¦‹ã‚‹</button>
                    </div>
                </div>
            </div>
            <!-- ãƒ›ãƒ¼ãƒ ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„çµ‚äº† -->
            </div>

            <!-- éƒ¨æ´»å‹•ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <div id="activities-tab" class="main-tab-content">
                <!-- éƒ¨æ´»å‹•ä¸€è¦§ç”»é¢ -->
                <div id="activities-list" class="activities-container active">
                    <div class="activities-header">
                        <div class="activities-header-title">éƒ¨æ´»å‹•</div>
                        <div class="activities-header-subtitle">ä»²é–“ã¨æ¥½ã—ãå¥åº·ã¥ãã‚Š</div>
                    </div>

                    <div class="activities-content">
                        <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚¿ãƒ– -->
                        <div class="category-tabs">
                            <button class="category-tab active" onclick="filterCategory(this, 'all')">ã™ã¹ã¦</button>
                            <button class="category-tab" onclick="filterCategory(this, 'exercise')">é‹å‹•ç³»</button>
                            <button class="category-tab" onclick="filterCategory(this, 'culture')">æ–‡åŒ–ç³»</button>
                            <button class="category-tab" onclick="filterCategory(this, 'social')">äº¤æµç³»</button>
                        </div>

                        <!-- éƒ¨æ´»å‹•ã‚«ãƒ¼ãƒ‰ -->
                        <div class="activity-card" onclick="showActivityDetail('walking')" data-category="exercise">
                            <div class="activity-image" style="background-image: url('https://static.wixstatic.com/media/07cdbc_ffa8f4d3caa343ad96d08d1e33a3d943~mv2.jpg/v1/fill/w_828,h_624,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/IMG_2782_JPG.jpg');">
                                <div class="activity-overlay">
                                    <span class="activity-badge">é‹å‹•ç³»</span>
                                </div>
                            </div>
                            <div class="activity-content">
                                <h3 class="activity-title">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</h3>
                                <div class="activity-info">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                                </div>
                                <div class="activity-info">
                                    <i class="fas fa-clock"></i>
                                    <span>æ¯é€±ç«ãƒ»æœ¨ æœ7:00</span>
                                </div>
                                <div class="activity-info">
                                    <i class="fas fa-users"></i>
                                    <span>12åãŒå‚åŠ ä¸­</span>
                                </div>
                            </div>
                        </div>

                        <div class="activity-card" onclick="showActivityDetail('yoga')" data-category="exercise">
                            <div class="activity-image" style="background-image: url('https://static.wixstatic.com/media/07cdbc_82a0984731614afdb20bb2b581c55d5d~mv2_d_3000_2000_s_2.jpg/v1/fill/w_562,h_374,al_c,q_80,usm_0.66_1.00_0.01/07cdbc_82a0984731614afdb20bb2b581c55d5d~mv2_d_3000_2000_s_2.jpg');">
                                <div class="activity-overlay">
                                    <span class="activity-badge">é‹å‹•ç³»</span>
                                </div>
                            </div>
                            <div class="activity-content">
                                <h3 class="activity-title">ã‚†ã£ãŸã‚Šãƒ¨ã‚¬æ•™å®¤</h3>
                                <div class="activity-info">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>FUNãƒ»Aãƒ»ROOMã‚¹ã‚¿ã‚¸ã‚ª</span>
                                </div>
                                <div class="activity-info">
                                    <i class="fas fa-clock"></i>
                                    <span>æ¯é€±æœˆãƒ»é‡‘ 10:00</span>
                                </div>
                                <div class="activity-info">
                                    <i class="fas fa-users"></i>
                                    <span>15åãŒå‚åŠ ä¸­</span>
                                </div>
                            </div>
                        </div>

                        <div class="activity-card" onclick="showActivityDetail('art')" data-category="culture">
                            <div class="activity-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                <div class="activity-overlay">
                                    <span class="activity-badge">æ–‡åŒ–ç³»</span>
                                </div>
                            </div>
                            <div class="activity-content">
                                <h3 class="activity-title">çµµæ‰‹ç´™ã‚µãƒ¼ã‚¯ãƒ«</h3>
                                <div class="activity-info">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼</span>
                                </div>
                                <div class="activity-info">
                                    <i class="fas fa-clock"></i>
                                    <span>æ¯é€±æ°´ 13:00</span>
                                </div>
                                <div class="activity-info">
                                    <i class="fas fa-users"></i>
                                    <span>8åãŒå‚åŠ ä¸­</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- éƒ¨æ´»å‹•è©³ç´°ç”»é¢ -->
                <div id="activity-detail" class="detail-container">
                    <!-- ç”»åƒãƒ˜ãƒƒãƒ€ãƒ¼ -->
                    <div class="detail-image" id="detailImage">
                        <button class="detail-back-btn" onclick="backToActivitiesList()">
                            <i class="fas fa-arrow-left"></i>
                            <span>æˆ»ã‚‹</span>
                        </button>
                        <div class="detail-overlay">
                            <span class="activity-badge" id="detailBadge">é‹å‹•ç³»</span>
                            <h2 class="detail-title" id="detailTitle">æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨</h2>
                        </div>
                    </div>

                    <!-- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ -->
                    <div class="detail-tabs">
                        <button class="detail-tab active" onclick="switchDetailTab(this, 'info')">
                            <i class="fas fa-info-circle"></i>
                            <span>è©³ç´°æƒ…å ±</span>
                        </button>
                        <button class="detail-tab" onclick="switchDetailTab(this, 'report')">
                            <i class="fas fa-newspaper"></i>
                            <span>æ´»å‹•å ±å‘Š</span>
                        </button>
                    </div>

                    <!-- è©³ç´°æƒ…å ±ã‚¿ãƒ– -->
                    <div id="tab-info" class="tab-content active">
                        <div class="tab-inner">
                            <div class="detail-info-card" id="detailInfoCard">
                                <div class="detail-info-row">
                                    <i class="fas fa-tag"></i>
                                    <div>
                                        <span class="info-label">ä½“åŠ›ãƒ¬ãƒ™ãƒ«</span>
                                        <span class="info-value" id="infoLevel">ã‚„ã•ã—ã„</span>
                                    </div>
                                </div>
                                <div class="detail-info-row">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <div>
                                        <span class="info-label">æ´»å‹•å ´æ‰€</span>
                                        <span class="info-value" id="infoPlace">æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’</span>
                                    </div>
                                </div>
                                <div class="detail-info-row">
                                    <i class="fas fa-clock"></i>
                                    <div>
                                        <span class="info-label">æ´»å‹•æ—¥æ™‚</span>
                                        <span class="info-value" id="infoTime">æ¯é€±ç«ãƒ»æœ¨ æœ7:00ã€œ8:00</span>
                                    </div>
                                </div>
                                <div class="detail-info-row">
                                    <i class="fas fa-users"></i>
                                    <div>
                                        <span class="info-label">å‚åŠ äººæ•°</span>
                                        <span class="info-value" id="infoMembers">12åãŒå‚åŠ ä¸­</span>
                                    </div>
                                </div>
                                <div class="detail-info-row">
                                    <i class="fas fa-yen-sign"></i>
                                    <div>
                                        <span class="info-label">å‚åŠ è²»</span>
                                        <span class="info-value" id="infoFee">ç„¡æ–™</span>
                                    </div>
                                </div>
                            </div>

                            <div class="detail-description">
                                <h3>æ´»å‹•å†…å®¹</h3>
                                <p id="detailDescription">
                                    æœã®çˆ½ã‚„ã‹ãªç©ºæ°—ã®ä¸­ã€å…¬åœ’ã‚’ç´„1æ™‚é–“ã‚†ã£ãã‚Šæ­©ãã¾ã™ã€‚
                                    ç„¡ç†ã®ãªã„ãƒšãƒ¼ã‚¹ã§ã€ãŠã—ã‚ƒã¹ã‚Šã—ãªãŒã‚‰æ¥½ã—ãæ­©ãã¾ã—ã‚‡ã†ã€‚<br><br>
                                    åˆå¿ƒè€…ã®æ–¹ã‚‚å¤§æ­“è¿ã§ã™ã€‚é‹å‹•ä¸è¶³ã®è§£æ¶ˆã‚„ã€æœã®ç¿’æ…£ã¥ãã‚Šã«æœ€é©ã§ã™ã€‚
                                </p>
                            </div>

                            <button class="card-button success-button" onclick="joinActivity()" style="width: 100%;">
                                <i class="fas fa-user-plus"></i>
                                <span>å‚åŠ ã‚’ç”³ã—è¾¼ã‚€</span>
                            </button>

                            <div class="support-card">
                                <div style="text-align: center; margin-bottom: 12px;">
                                    <i class="fas fa-phone" style="font-size: 32px; color: #F59E0B;"></i>
                                </div>
                                <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; text-align: center;">ãŠå•ã„åˆã‚ã›</h3>
                                <p style="font-size: 16px; text-align: center; margin-bottom: 16px;">
                                    ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚Œã°<br>
                                    ãŠæ°—è»½ã«ãŠé›»è©±ãã ã•ã„
                                </p>
                                <button class="card-button" onclick="alert('é›»è©±ï¼š0982-XX-XXXX')" style="width: 100%;">
                                    <i class="fas fa-phone"></i>
                                    <span>é›»è©±ã™ã‚‹</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- æ´»å‹•å ±å‘Šã‚¿ãƒ– -->
                    <div id="tab-report" class="tab-content">
                        <div class="tab-inner">
                            <div class="report-card">
                                <img src="https://stat.ameba.jp/user_images/20140720/09/funaroom/8e/09/j/o0800045013008387592.jpg" class="report-image" alt="æ´»å‹•å†™çœŸ">
                                <div class="report-header">
                                    <div class="report-meta">
                                        <span class="report-author">ã‚¹ã‚¿ãƒƒãƒ• å±±ç”°</span>
                                        <span class="report-date">2æ—¥å‰</span>
                                    </div>
                                </div>
                                <div class="report-content">
                                    <p>ä»Šæœã‚‚æ°—æŒã¡ã‚ˆãæ­©ãã¾ã—ãŸï¼æ–°ã—ãå‚åŠ ã•ã‚ŒãŸä½è—¤ã•ã‚“ã‚‚ã€çš†ã•ã‚“ã¨ã™ãã«æ‰“ã¡è§£ã‘ã¦æ¥½ã—ãã†ã§ã—ãŸã€‚æ¡œãŒå’²ãå§‹ã‚ã¦ã„ã¦ã€æ˜¥ã‚’æ„Ÿã˜ãªãŒã‚‰ã®ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã§ã—ãŸğŸŒ¸</p>
                                </div>
                                <div class="report-stats">
                                    <span><i class="fas fa-heart"></i> 15</span>
                                    <span><i class="fas fa-comment"></i> 3</span>
                                </div>
                            </div>

                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-meta">
                                        <span class="report-author">ã‚¹ã‚¿ãƒƒãƒ• ç”°ä¸­</span>
                                        <span class="report-date">1é€±é–“å‰</span>
                                    </div>
                                </div>
                                <div class="report-content">
                                    <p>é›¨ã®äºˆå ±ã§ã—ãŸãŒã€ã¿ã‚“ãªã®æ—¥é ƒã®è¡Œã„ãŒè‰¯ã„ã®ã‹ã€æ™´ã‚Œã¾ã—ãŸï¼ä»Šæ—¥ã¯15åã®å‚åŠ ã§è³‘ã‚„ã‹ã§ã—ãŸã€‚æ¥é€±ã¯èŠ±è¦‹ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã‚’è¨ˆç”»ä¸­ã§ã™ã€‚</p>
                                </div>
                                <div class="report-stats">
                                    <span><i class="fas fa-heart"></i> 23</span>
                                    <span><i class="fas fa-comment"></i> 5</span>
                                </div>
                            </div>

                            <div class="report-card">
                                <div class="report-header">
                                    <div class="report-meta">
                                        <span class="report-author">ã‚¹ã‚¿ãƒƒãƒ• éˆ´æœ¨</span>
                                        <span class="report-date">2é€±é–“å‰</span>
                                    </div>
                                </div>
                                <div class="report-content">
                                    <p>ä»Šæœˆã®ç›®æ¨™é”æˆï¼å…¨å“¡ã§åˆè¨ˆ1000kmæ­©ãã¾ã—ãŸï¼æ¥æœˆã‚‚æ¥½ã—ãå¥åº·ã¥ãã‚Šã‚’ç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚æ–°è¦ãƒ¡ãƒ³ãƒãƒ¼ã‚‚å‹Ÿé›†ä¸­ã§ã™ã€‚</p>
                                </div>
                                <div class="report-stats">
                                    <span><i class="fas fa-heart"></i> 32</span>
                                    <span><i class="fas fa-comment"></i> 8</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- éƒ¨æ´»å‹•ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„çµ‚äº† -->

        </div>
    </div>

    <script>
        // çŠ¶æ…‹ç®¡ç†
        let conversationHistory = [];
        let currentConversation = [];
        let dailyAnswers = {};
        let healthAnswers = {};
        let currentQuestion = 0;

        // éƒ¨æ´»å‹•ãƒ‡ãƒ¼ã‚¿
        const activityData = {
            walking: {
                category: 'é‹å‹•ç³»',
                title: 'æœã®å¥åº·ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°éƒ¨',
                level: 'ã‚„ã•ã—ã„',
                place: 'æ—¥å‘å¸‚ä¸­å¤®å…¬åœ’',
                time: 'æ¯é€±ç«ãƒ»æœ¨ æœ7:00ã€œ8:00',
                members: '12åãŒå‚åŠ ä¸­',
                fee: 'ç„¡æ–™',
                description: 'æœã®çˆ½ã‚„ã‹ãªç©ºæ°—ã®ä¸­ã€å…¬åœ’ã‚’ç´„1æ™‚é–“ã‚†ã£ãã‚Šæ­©ãã¾ã™ã€‚ç„¡ç†ã®ãªã„ãƒšãƒ¼ã‚¹ã§ã€ãŠã—ã‚ƒã¹ã‚Šã—ãªãŒã‚‰æ¥½ã—ãæ­©ãã¾ã—ã‚‡ã†ã€‚<br><br>åˆå¿ƒè€…ã®æ–¹ã‚‚å¤§æ­“è¿ã§ã™ã€‚é‹å‹•ä¸è¶³ã®è§£æ¶ˆã‚„ã€æœã®ç¿’æ…£ã¥ãã‚Šã«æœ€é©ã§ã™ã€‚',
                imageUrl: 'https://static.wixstatic.com/media/07cdbc_ffa8f4d3caa343ad96d08d1e33a3d943~mv2.jpg/v1/fill/w_828,h_624,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/IMG_2782_JPG.jpg'
            },
            yoga: {
                category: 'é‹å‹•ç³»',
                title: 'ã‚†ã£ãŸã‚Šãƒ¨ã‚¬æ•™å®¤',
                level: 'ã‚„ã•ã—ã„',
                place: 'FUNãƒ»Aãƒ»ROOMã‚¹ã‚¿ã‚¸ã‚ª',
                time: 'æ¯é€±æœˆãƒ»é‡‘ 10:00ã€œ11:00',
                members: '15åãŒå‚åŠ ä¸­',
                fee: 'æœˆé¡ 1,000å††',
                description: 'ã‚†ã£ãŸã‚Šã¨ã—ãŸå‹•ãã§ã€ä½“ã‚’ã»ãã—ã¦ã„ãã¾ã™ã€‚å‘¼å¸æ³•ã‚‚å­¦ã¹ã¦ã€å¿ƒèº«ã¨ã‚‚ã«ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã¾ã™ã€‚<br><br>æ¤…å­ã‚’ä½¿ã£ãŸãƒ¨ã‚¬ã‚‚è¡Œã†ã®ã§ã€ä½“ãŒç¡¬ã„æ–¹ã§ã‚‚å®‰å¿ƒã—ã¦ã”å‚åŠ ã„ãŸã ã‘ã¾ã™ã€‚',
                imageUrl: 'https://static.wixstatic.com/media/07cdbc_82a0984731614afdb20bb2b581c55d5d~mv2_d_3000_2000_s_2.jpg/v1/fill/w_562,h_374,al_c,q_80,usm_0.66_1.00_0.01/07cdbc_82a0984731614afdb20bb2b581c55d5d~mv2_d_3000_2000_s_2.jpg'
            },
            art: {
                category: 'æ–‡åŒ–ç³»',
                title: 'çµµæ‰‹ç´™ã‚µãƒ¼ã‚¯ãƒ«',
                level: 'ã©ãªãŸã§ã‚‚',
                place: 'ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼',
                time: 'æ¯é€±æ°´ 13:00ã€œ15:00',
                members: '8åãŒå‚åŠ ä¸­',
                fee: 'ææ–™è²» 500å††/å›',
                description: 'å­£ç¯€ã®èŠ±ã‚„é¢¨æ™¯ã‚’ã€çµµæ‰‹ç´™ã«ã—ã¦æ¥½ã—ã¿ã¾ã™ã€‚ä¸Šæ‰‹ã„ä¸‹æ‰‹ã¯é–¢ä¿‚ãªãã€æ€ã„ã‚’è¾¼ã‚ã¦æãã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚<br><br>æã„ãŸä½œå“ã¯ã€ãŠå‹é”ã‚„ã”å®¶æ—ã«é€ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚',
                imageUrl: ''
            }
        };

        // ãƒ¡ã‚¤ãƒ³ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
        function switchMainTab(tabName) {
            // ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.top-nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤º/éè¡¨ç¤º
            document.querySelectorAll('.main-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + '-tab').classList.add('active');

            // éƒ¨æ´»å‹•ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆãŸæ™‚ã¯ä¸€è¦§ç”»é¢ã‚’è¡¨ç¤º
            if (tabName === 'activities') {
                document.getElementById('activities-list').classList.add('active');
                document.getElementById('activity-detail').classList.remove('active');
            }
        }

        // ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
        function filterCategory(button, category) {
            // ã‚¿ãƒ–ã®çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.category-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            button.classList.add('active');

            // ã‚«ãƒ¼ãƒ‰ã®è¡¨ç¤º/éè¡¨ç¤º
            const cards = document.querySelectorAll('.activity-card');
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // éƒ¨æ´»å‹•è©³ç´°è¡¨ç¤º
        function showActivityDetail(activityId) {
            const activity = activityData[activityId];
            if (!activity) return;

            // è©³ç´°æƒ…å ±ã‚’æ›´æ–°
            document.getElementById('detailTitle').textContent = activity.title;
            document.getElementById('detailBadge').textContent = activity.category;
            document.getElementById('infoLevel').textContent = activity.level;
            document.getElementById('infoPlace').textContent = activity.place;
            document.getElementById('infoTime').textContent = activity.time;
            document.getElementById('infoMembers').textContent = activity.members;
            document.getElementById('infoFee').textContent = activity.fee;
            document.getElementById('detailDescription').innerHTML = activity.description;

            // ç”»åƒã®è¨­å®š
            const detailImage = document.getElementById('detailImage');
            if (activity.imageUrl) {
                detailImage.style.backgroundImage = `url('${activity.imageUrl}')`;
            } else {
                detailImage.style.backgroundImage = '';
            }

            // ä¸€è¦§ã‚’éè¡¨ç¤ºã«ã—ã¦è©³ç´°ã‚’è¡¨ç¤º
            document.getElementById('activities-list').classList.remove('active');
            document.getElementById('activity-detail').classList.add('active');
        }

        // éƒ¨æ´»å‹•ä¸€è¦§ã«æˆ»ã‚‹
        function backToActivitiesList() {
            document.getElementById('activity-detail').classList.remove('active');
            document.getElementById('activities-list').classList.add('active');
        }

        // è©³ç´°ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function switchDetailTab(button, tabName) {
            // ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.detail-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            button.classList.add('active');

            // ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤º/éè¡¨ç¤º
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`tab-${tabName}`).classList.add('active');
        }

        // å‚åŠ ç”³ã—è¾¼ã¿
        function joinActivity() {
            alert('å‚åŠ ç”³ã—è¾¼ã¿ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼\n\næ‹…å½“è€…ã‹ã‚‰é€£çµ¡ãŒã‚ã‚Šã¾ã™ã®ã§ã€ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚');
        }

        // åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
        function init() {
            showWelcomeMessage();
            loadFooterState();
        }

        // ãƒ•ãƒƒã‚¿ãƒ¼ã®é–‹é–‰çŠ¶æ…‹ã‚’ãƒˆã‚°ãƒ«
        function toggleFooter() {
            const footer = document.getElementById('chatFooter');
            const content = document.getElementById('footerContent');
            const icon = document.getElementById('toggleIcon');

            const isCollapsed = content.classList.contains('collapsed');

            if (isCollapsed) {
                // é–‹ã
                content.classList.remove('collapsed');
                footer.classList.remove('collapsed');
                icon.classList.add('expanded');
                localStorage.setItem('footerExpanded', 'true');
            } else {
                // é–‰ã˜ã‚‹
                content.classList.add('collapsed');
                footer.classList.add('collapsed');
                icon.classList.remove('expanded');
                localStorage.setItem('footerExpanded', 'false');
            }
        }

        // ãƒ•ãƒƒã‚¿ãƒ¼ã®çŠ¶æ…‹ã‚’èª­ã¿è¾¼ã¿
        function loadFooterState() {
            const isExpanded = localStorage.getItem('footerExpanded');

            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é–‰ã˜ãŸçŠ¶æ…‹
            if (isExpanded === null || isExpanded === 'false') {
                const content = document.getElementById('footerContent');
                const footer = document.getElementById('chatFooter');
                const icon = document.getElementById('toggleIcon');

                content.classList.add('collapsed');
                footer.classList.add('collapsed');
                icon.classList.remove('expanded');
            }
        }

        // ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        function showWelcomeMessage() {
            clearChat();
            addAssistantMessage(
                'ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚ä»Šæ—¥ã¯ã©ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰å§‹ã‚ã¾ã™ã‹ï¼Ÿå¤§ããªãƒœã‚¿ãƒ³ã‹ã‚‰é¸ã¹ã°å¤§ä¸ˆå¤«ã§ã™ã€‚',
                `<div class="quick-actions">
                    <button class="quick-button" onclick="startDailyCheck()"><i class="fa-solid fa-pen-to-square"></i>ä»Šæ—¥ã®è¨˜éŒ²</button>
                    <button class="quick-button" onclick="showGameMenu()"><i class="fa-solid fa-gamepad"></i>å¥åº·ã‚²ãƒ¼ãƒ </button>
                    <button class="quick-button" onclick="showHealthCheck()"><i class="fa-solid fa-stethoscope"></i>æœˆ1å¥åº·è¨ºæ–­</button>
                    <button class="quick-button" onclick="showActivities()"><i class="fa-solid fa-people-group"></i>éƒ¨æ´»å‹•ã‚’è¦‹ã‚‹</button>
                </div>`
            );
        }

        // ãƒãƒ£ãƒƒãƒˆã‚’ã‚¯ãƒªã‚¢
        function clearChat() {
            const chatBody = document.getElementById('chatBody');
            chatBody.innerHTML = '';
            currentConversation = [];
        }

        // ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
        function addAssistantMessage(text, html = '') {
            const chatBody = document.getElementById('chatBody');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message assistant';
            messageDiv.innerHTML = `
                <div class="avatar">F</div>
                <div class="bubble">
                    ${text}
                    ${html}
                </div>
            `;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;

            // ä¼šè©±ã‚’è¨˜éŒ²
            currentConversation.push({
                type: 'assistant',
                content: text,
                timestamp: new Date()
            });
        }

        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
        function addUserMessage(text) {
            const chatBody = document.getElementById('chatBody');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="avatar"><i class="fa-solid fa-user"></i></div>
                <div class="bubble">${text}</div>
            `;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;

            // ä¼šè©±ã‚’è¨˜éŒ²
            currentConversation.push({
                type: 'user',
                content: text,
                timestamp: new Date()
            });
        }

        // ä»Šæ—¥ã®è¨˜éŒ²ã‚’é–‹å§‹
        function startDailyCheck() {
            addUserMessage('ä»Šæ—¥ã®è¨˜éŒ²ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚');

            setTimeout(() => {
                dailyAnswers = {};
                currentQuestion = 0;
                askDailyQuestion(0);
            }, 500);
        }

        // æ—¥ã€…ã®è³ªå•
        const dailyQuestions = [
            {
                question: 'ä½“èª¿ã¯ã„ã‹ãŒã§ã™ã‹?',
                options: [
                    { text: 'å…ƒæ°—', icon: 'fa-regular fa-face-smile' },
                    { text: 'ã„ã¤ã‚‚é€šã‚Š', icon: 'fa-regular fa-face-meh' },
                    { text: 'ç–²ã‚Œæ°—å‘³', icon: 'fa-regular fa-face-frown' }
                ]
            },
            {
                question: 'é£Ÿäº‹ã¯ã—ã£ã‹ã‚Šã¨ã‚Œã¾ã—ãŸã‹?',
                options: [
                    { text: 'ã¯ã„', icon: null },
                    { text: 'ã„ã„ãˆ', icon: null },
                    { text: 'è¦šãˆã¦ã„ãªã„', icon: null }
                ]
            },
            {
                question: 'æœ€å¾Œã«ä»Šæ—¥ã®æ­©æ•°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚',
                type: 'steps'
            }
        ];

        // æ—¥ã€…ã®è³ªå•ã‚’è¡¨ç¤º
        function askDailyQuestion(index) {
            if (index >= dailyQuestions.length) {
                completeDailyCheck();
                return;
            }

            const q = dailyQuestions[index];
            let html = '';

            if (q.type === 'steps') {
                html = `
                    <div class="card">
                        <div class="section-title">æ­©æ•°å…¥åŠ›</div>
                        <p>ä»Šæ—¥ã®æ­©æ•°ã«è¿‘ã„æ•°å€¤ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</p>
                        <div class="action-row">
                            <button class="card-button secondary" onclick="answerDaily(${index}, '1,000æ­©æœªæº€')">1,000æ­©æœªæº€</button>
                            <button class="card-button secondary" onclick="answerDaily(${index}, '1,000ã€œ4,999æ­©')">1,000ã€œ4,999æ­©</button>
                            <button class="card-button secondary" onclick="answerDaily(${index}, '5,000ã€œ7,999æ­©')">5,000ã€œ7,999æ­©</button>
                            <button class="card-button secondary" onclick="answerDaily(${index}, '8,000æ­©ä»¥ä¸Š')">8,000æ­©ä»¥ä¸Š</button>
                        </div>
                        <div class="progress"><span>${index + 1} / ${dailyQuestions.length}</span> å•ç›®ã§ã™ã€‚</div>
                    </div>
                `;
            } else {
                const buttons = q.options.map(opt => {
                    const icon = opt.icon ? `<i class="${opt.icon}"></i>` : '';
                    return `<button class="quick-button" onclick="answerDaily(${index}, '${opt.text}')">${icon}${opt.text}</button>`;
                }).join('');

                html = `<div class="quick-actions">${buttons}</div>`;
            }

            const questionText = q.type === 'steps' ? q.question :
                `${q.question}${index < dailyQuestions.length - 1 ? ` (${index + 1}å•ç›® / å…¨${dailyQuestions.length}å•)` : ''}`;

            addAssistantMessage(questionText, html);
        }

        // æ—¥ã€…ã®è³ªå•ã¸ã®å›ç­”
        function answerDaily(index, answer) {
            dailyAnswers[`question${index}`] = answer;
            addUserMessage(answer);

            setTimeout(() => {
                askDailyQuestion(index + 1);
            }, 500);
        }

        // æ—¥ã€…ã®ãƒã‚§ãƒƒã‚¯å®Œäº†
        function completeDailyCheck() {
            addAssistantMessage(
                'ä»Šæ—¥ã®è¨˜éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ¯æ—¥ç¶šã‘ã‚‹ã¨ä½“èª¿ã®å¤‰åŒ–ãŒåˆ†ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã™ã‚ˆã€‚',
                `<div class="quick-actions">
                    <button class="quick-button" onclick="startDailyCheck()"><i class="fa-solid fa-arrow-rotate-left"></i>ã‚‚ã†ä¸€åº¦è¨˜éŒ²</button>
                    <button class="quick-button" onclick="showActivities()"><i class="fa-solid fa-people-group"></i>éƒ¨æ´»å‹•ã‚’è¦‹ã‚‹</button>
                    <button class="quick-button" onclick="showWelcomeMessage()"><i class="fa-solid fa-house"></i>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸æˆ»ã‚‹</button>
                </div>`
            );

            // å±¥æ­´ã«ä¿å­˜
            saveToHistory('ä»Šæ—¥ã®å¥åº·è¨˜éŒ²', 'è¨˜éŒ²ã‚’å®Œäº†ã—ã¾ã—ãŸ');
        }

        // å¥åº·ã‚²ãƒ¼ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼
        function showGameMenu() {
            addUserMessage('å¥åº·ã‚²ãƒ¼ãƒ ã‚’è¦‹ã›ã¦ã€‚');

            setTimeout(() => {
                addAssistantMessage(
                    'æ¥½ã—ãèº«ä½“ã‚’å‹•ã‹ã—ã¾ã—ã‚‡ã†ã€‚ã‚„ã‚ŠãŸã„ã‚²ãƒ¼ãƒ ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚',
                    `<div class="card">
                        <h3>å¥åº·ã‚²ãƒ¼ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
                        <div class="tag"><i class="fa-solid fa-heart-pulse"></i>&nbsp;å®‰å…¨ç¬¬ä¸€</div>
                        <p>ãã‚Œãã‚Œã®ã‚²ãƒ¼ãƒ ã¯ã€é–‹å§‹å‰ã«å‘¨ã‚Šã®å®‰å…¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                        <div class="action-row">
                            <button class="card-button" onclick="startBalanceGame()"><i class="fa-solid fa-person-walking"></i>&nbsp;ç‰‡è¶³ç«‹ã¡ãƒãƒ£ãƒ¬ãƒ³ã‚¸</button>
                            <button class="card-button" onclick="startReactionGame()"><i class="fa-solid fa-bolt"></i>&nbsp;åå¿œé€Ÿåº¦ãƒ†ã‚¹ãƒˆ</button>
                            <button class="card-button" onclick="startFingerRingTest()"><i class="fa-solid fa-ring"></i>&nbsp;æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆ</button>
                        </div>
                    </div>`
                );
            }, 500);
        }

        // ç‰‡è¶³ç«‹ã¡ã‚²ãƒ¼ãƒ 
        function startBalanceGame() {
            addUserMessage('ç‰‡è¶³ç«‹ã¡ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’å§‹ã‚ã¾ã™ã€‚');

            setTimeout(() => {
                addAssistantMessage(
                    'ç‰‡è¶³ç«‹ã¡ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®æº–å‚™ãŒã§ãã¾ã—ãŸã€‚',
                    `<div class="card">
                        <h3><i class="fa-solid fa-person-walking"></i> ç‰‡è¶³ç«‹ã¡ãƒãƒ£ãƒ¬ãƒ³ã‚¸</h3>
                        <p>1. å‘¨ã‚Šã«å±ãªã„ã‚‚ã®ãŒãªã„ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
                        <p>2. ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’é•·æŠ¼ã—ã—ã¦ç‰‡è¶³ç«‹ã¡ã€å€’ã‚Œãã†ã«ãªã£ãŸã‚‰é›¢ã—ã¦ãã ã•ã„ã€‚</p>
                        <div class="action-row">
                            <button class="card-button" onclick="alert('é•·æŠ¼ã—ã§è¨ˆæ¸¬ã‚’é–‹å§‹ã—ã¾ã™ï¼')"><i class="fa-solid fa-play"></i>&nbsp;ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
                            <button class="card-button secondary" onclick="showGameMenu()"><i class="fa-solid fa-rotate-left"></i>&nbsp;æˆ»ã‚‹</button>
                        </div>
                    </div>`
                );
            }, 500);
        }

        // åå¿œé€Ÿåº¦ã‚²ãƒ¼ãƒ 
        function startReactionGame() {
            addUserMessage('åå¿œé€Ÿåº¦ãƒ†ã‚¹ãƒˆã‚’å§‹ã‚ã¾ã™ã€‚');

            setTimeout(() => {
                addAssistantMessage(
                    'åå¿œé€Ÿåº¦ãƒ†ã‚¹ãƒˆã®æº–å‚™ãŒã§ãã¾ã—ãŸã€‚',
                    `<div class="card">
                        <h3><i class="fa-solid fa-bolt"></i> åå¿œé€Ÿåº¦ãƒ†ã‚¹ãƒˆ</h3>
                        <p>ç”»é¢ãŒç·‘è‰²ã«å¤‰ã‚ã£ãŸã‚‰ã€ã§ãã‚‹ã ã‘æ—©ãã‚¿ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚</p>
                        <div class="action-row">
                            <button class="card-button" onclick="alert('åå¿œé€Ÿåº¦ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™ï¼')"><i class="fa-solid fa-play"></i>&nbsp;ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
                            <button class="card-button secondary" onclick="showGameMenu()"><i class="fa-solid fa-rotate-left"></i>&nbsp;æˆ»ã‚‹</button>
                        </div>
                    </div>`
                );
            }, 500);
        }

        // æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆ
        function startFingerRingTest() {
            addUserMessage('æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆã‚’å§‹ã‚ã¾ã™ã€‚');

            setTimeout(() => {
                addAssistantMessage(
                    'æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆã®èª¬æ˜ã§ã™ã€‚',
                    `<div class="card">
                        <h3><i class="fa-solid fa-ring"></i> æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆ</h3>
                        <p>ä¸¡æ‰‹ã®è¦ªæŒ‡ã¨äººå·®ã—æŒ‡ã§è¼ªã‚’ä½œã‚Šã€ãµãã‚‰ã¯ãã®ä¸€ç•ªå¤ªã„ã¨ã“ã‚ã‚’å›²ã¿ã¾ã™ã€‚</p>
                        <p>çµæœã‚’é¸ã‚“ã§ãã ã•ã„:</p>
                        <div class="action-row">
                            <button class="card-button secondary" onclick="fingerRingResult('å±Šã‹ãªã„')">æŒ‡ãŒå±Šã‹ãšè¼ªãŒé–‰ã˜ãªã„</button>
                            <button class="card-button secondary" onclick="fingerRingResult('ã¡ã‚‡ã†ã©')">ã¡ã‚‡ã†ã©ãµãã‚‰ã¯ãã«è§¦ã‚Œã‚‹</button>
                            <button class="card-button secondary" onclick="fingerRingResult('ä½™ã‚‹')">è¼ªãŒä½™ã£ã¦ã™ãé–“ãŒã§ãã‚‹</button>
                        </div>
                    </div>`
                );
            }, 500);
        }

        // æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆçµæœ
        function fingerRingResult(result) {
            addUserMessage(result);

            setTimeout(() => {
                let message = '';
                if (result === 'å±Šã‹ãªã„') {
                    message = 'ç­‹åŠ›ã¯ååˆ†ã§ã™ã€‚ãµãã‚‰ã¯ããŒã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚ä»Šã®é‹å‹•ç¿’æ…£ã‚’ç¶šã‘ã¾ã—ã‚‡ã†ã€‚';
                } else if (result === 'ã¡ã‚‡ã†ã©') {
                    message = 'ã‚„ã‚„æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ç­‹è‚‰é‡ãŒå°‘ã—ä½ä¸‹ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚è»½ã„ç­‹ãƒˆãƒ¬ã‚„æ•£æ­©ã‚’å–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†ã€‚';
                } else {
                    message = 'ã‚µãƒ«ã‚³ãƒšãƒ‹ã‚¢ã®ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚ç­‹è‚‰é‡ãŒã‹ãªã‚Šä½ä¸‹ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å°‚é–€å®¶ã«ç›¸è«‡ã™ã‚‹ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚';
                }

                addAssistantMessage(
                    message,
                    `<div class="quick-actions">
                        <button class="quick-button" onclick="showGameMenu()"><i class="fa-solid fa-rotate-left"></i>ã‚²ãƒ¼ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</button>
                        <button class="quick-button" onclick="showActivities()"><i class="fa-solid fa-people-group"></i>éƒ¨æ´»å‹•ã‚’è¦‹ã‚‹</button>
                        <button class="quick-button" onclick="showWelcomeMessage()"><i class="fa-solid fa-house"></i>ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</button>
                    </div>`
                );

                saveToHistory('æŒ‡è¼ªã£ã‹ãƒ†ã‚¹ãƒˆ', `çµæœ: ${result}`);
            }, 500);
        }

        // æœˆ1å¥åº·è¨ºæ–­
        function showHealthCheck() {
            addUserMessage('æœˆ1å¥åº·è¨ºæ–­ã‚’è¦‹ã›ã¦ã€‚');

            setTimeout(() => {
                addAssistantMessage(
                    'æœˆ1å¥åº·è¨ºæ–­ï¼ˆãƒ•ãƒ¬ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ï¼‰ã‚‚ã„ã¤ã§ã‚‚ã§ãã¾ã™ã€‚æº–å‚™ã¯ã‚ˆã‚ã—ã„ã§ã™ã‹?',
                    `<div class="card">
                        <h3>ãƒ•ãƒ¬ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯</h3>
                        <p>å…¨5å•ã§ã™ã€‚æ‰€è¦æ™‚é–“ã¯3åˆ†ã»ã©ã€‚ã‚†ã£ãã‚Šé€²ã‚ã¾ã—ã‚‡ã†ã€‚</p>
                        <div class="action-row">
                            <button class="card-button" onclick="startHealthCheck()"><i class="fa-solid fa-play"></i>&nbsp;è¨ºæ–­ã‚’é–‹å§‹</button>
                            <button class="card-button secondary" onclick="showWelcomeMessage()"><i class="fa-solid fa-rotate-left"></i>&nbsp;æˆ»ã‚‹</button>
                        </div>
                    </div>`
                );
            }, 500);
        }

        // å¥åº·è¨ºæ–­é–‹å§‹
        function startHealthCheck() {
            addUserMessage('è¨ºæ–­ã‚’å§‹ã‚ã¾ã™ã€‚');
            healthAnswers = {};

            setTimeout(() => {
                addAssistantMessage(
                    'æœ€è¿‘ã€ä½“é‡ãŒæ¸›ã‚Šã¾ã—ãŸã‹? (1 / 5å•ç›®)',
                    `<div class="quick-actions">
                        <button class="quick-button" onclick="answerHealth(1, 'ã¯ã„')">ã¯ã„</button>
                        <button class="quick-button" onclick="answerHealth(1, 'ã„ã„ãˆ')">ã„ã„ãˆ</button>
                        <button class="quick-button" onclick="answerHealth(1, 'ã‚ã‹ã‚‰ãªã„')">ã‚ã‹ã‚‰ãªã„</button>
                    </div>`
                );
            }, 500);
        }

        // å¥åº·è¨ºæ–­ã®è³ªå•
        const healthQuestions = [
            'æœ€è¿‘ã€ä½“é‡ãŒæ¸›ã‚Šã¾ã—ãŸã‹?',
            'é£Ÿäº‹ã‚’é£Ÿã¹ã‚‹æ™‚ã‚€ã›ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã‹?',
            'é€±ã«ä½•å›é‹å‹•ã—ã¦ã„ã¾ã™ã‹?',
            'è–¬ã®é£²ã¿å¿˜ã‚Œã¯ã‚ã‚Šã¾ã™ã‹?',
            'æœ€è¿‘ã€æ°—åˆ†ãŒè½ã¡è¾¼ã¿ã¾ã™ã‹?'
        ];

        // å¥åº·è¨ºæ–­ã¸ã®å›ç­”
        function answerHealth(questionNum, answer) {
            healthAnswers[`q${questionNum}`] = answer;
            addUserMessage(answer);

            setTimeout(() => {
                if (questionNum < 5) {
                    const nextQ = healthQuestions[questionNum];
                    addAssistantMessage(
                        `${nextQ} (${questionNum + 1} / 5å•ç›®)`,
                        `<div class="quick-actions">
                            <button class="quick-button" onclick="answerHealth(${questionNum + 1}, 'ã¯ã„')">ã¯ã„</button>
                            <button class="quick-button" onclick="answerHealth(${questionNum + 1}, 'ã„ã„ãˆ')">ã„ã„ãˆ</button>
                            <button class="quick-button" onclick="answerHealth(${questionNum + 1}, 'ã‚ã‹ã‚‰ãªã„')">ã‚ã‹ã‚‰ãªã„</button>
                        </div>`
                    );
                } else {
                    showHealthResult();
                }
            }, 500);
        }

        // å¥åº·è¨ºæ–­çµæœ
        function showHealthResult() {
            addAssistantMessage(
                'ãƒ•ãƒ¬ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ã®çµæœã§ã™ã€‚',
                `<div class="card">
                    <h3>å¥åº·çŠ¶æ…‹:è‰¯å¥½</h3>
                    <p>å¼•ãç¶šãä»Šã®ç¿’æ…£ã‚’å¤§åˆ‡ã«ã—ã¾ã—ã‚‡ã†ã€‚æ°´åˆ†è£œçµ¦ã¨ç¡çœ ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚</p>
                    <div class="action-row">
                        <button class="card-button" onclick="alert('çµæœã‚’å…±æœ‰ã—ã¾ã™')"><i class="fa-solid fa-share"></i>&nbsp;çµæœã‚’å…±æœ‰</button>
                        <button class="card-button secondary" onclick="showActivities()"><i class="fa-solid fa-people-group"></i>&nbsp;éƒ¨æ´»å‹•ã‚’è¦‹ã‚‹</button>
                        <button class="card-button secondary" onclick="showWelcomeMessage()"><i class="fa-solid fa-house"></i>&nbsp;ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
                    </div>
                </div>`
            );

            saveToHistory('ãƒ•ãƒ¬ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯', 'å¥åº·çŠ¶æ…‹: è‰¯å¥½');
        }

        // éƒ¨æ´»å‹•ã‚’è¡¨ç¤ºï¼ˆã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼‰
        function showActivities() {
            // éƒ¨æ´»å‹•ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.top-nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.top-nav-button')[1].classList.add('active'); // éƒ¨æ´»å‹•ä¸€è¦§ãƒœã‚¿ãƒ³

            document.querySelectorAll('.main-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('activities-tab').classList.add('active');

            // ä¸€è¦§ç”»é¢ã‚’è¡¨ç¤º
            document.getElementById('activities-list').classList.add('active');
            document.getElementById('activity-detail').classList.remove('active');
        }

        // å±¥æ­´ã‚’è¡¨ç¤º
        function showHistory() {
            if (conversationHistory.length === 0) {
                addAssistantMessage(
                    'ã¾ã å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“ã€‚',
                    `<div class="quick-actions">
                        <button class="quick-button" onclick="showWelcomeMessage()"><i class="fa-solid fa-house"></i>ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</button>
                    </div>`
                );
                return;
            }

            let historyHtml = '<div class="history-section"><div class="history-title"><i class="fa-solid fa-clock-rotate-left"></i> æœ€è¿‘ã®è¨˜éŒ²</div>';

            conversationHistory.slice(-5).reverse().forEach((item, index) => {
                const date = new Date(item.timestamp);
                const dateStr = `${date.getMonth() + 1}/${date.getDate()} ${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;
                historyHtml += `
                    <div class="history-item" onclick="alert('${item.title}ã®è©³ç´°ã‚’è¡¨ç¤º')">
                        <div class="history-date">${dateStr}</div>
                        <div class="history-content">${item.title}: ${item.summary}</div>
                    </div>
                `;
            });

            historyHtml += '</div>';

            addAssistantMessage(
                'ç›´è¿‘ã®è¨˜éŒ²ã§ã™ã€‚æ°—ã«ãªã‚‹æ—¥ä»˜ã‚’é¸ã¹ã¾ã™ã€‚',
                historyHtml + `<div class="quick-actions">
                    <button class="quick-button" onclick="showWelcomeMessage()"><i class="fa-solid fa-house"></i>ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</button>
                </div>`
            );
        }

        // å±¥æ­´ã«ä¿å­˜
        function saveToHistory(title, summary) {
            conversationHistory.push({
                title: title,
                summary: summary,
                conversation: [...currentConversation],
                timestamp: new Date()
            });
        }

        // åˆæœŸåŒ–
        window.onload = init;
    </script>
</body>
</html>
